# 水平垂直居中

> 面试的时候，绝不能只说一种，绝不能说一种解决方案，绝不能停下你吞吞吐吐的嘴



CSS方面问的最多的问题之一，我想分三种情况，水平居中、垂直居中和水平垂直居中来分析



单单就水平垂直居中而言，大概有以下几种方案：

居中元素不定宽高

- absolute + transform
- flex 属性居中
- flex + 子项 margin auto
- grid 属性居中
- grid + 子项 margin auto
- grid + 子项属性居中
- -webkit-box 属性居中
- table-cell + text-align
- line-height + text-align
- writing-mode
- table

仅居中元素定宽高适用：

- 须知宽高 + absolute + 负 margin
- 须知宽高 + absolute + calc
- 须知宽高 + absolute + margin auto

局限性较大的全局居中

- 须知宽高 + fixed + transform
- 须知宽高 + fixed + 负 margin
- 须知宽高 + fixed + calc
- 须知宽高 + fixed + margin auto





## 水平居中

### text-align： center

```css
text-align: center;
```

需设置 `display: inline-block` 行内块元素

### 绝对定位 + transform 位移

```css
position: absolute;
left: 50%;
transform: translateX(-50%);
```

脱离文档流

### 宽度+ margin: 0 auto

```css
width: 100px; 
margin: 0 auto;
```

这里说明下，`width:100px` 必须是具体的数字，且这个居中是外层居中，宽度中的内容没有居中



## 垂直居中

### 绝对定位 + transform 位移

```css
position: absolute;
top: 50%;
transform: translateY(-50%);
```

与水平方向的居中一样，都是脱离文档流的做法

### table-cell + vertical-align

```css
display: table-cell;
vertical-align: middle;
```

`display: table-cell` ，让其标签元素以表格单元格的形式呈现，类似于 `td` 标签，

`vertical-align: middle`，用来指定行内元素（inline）或表格单元格（table-cell）元素的垂直居中





## 水平垂直居中

### 绝对居中 +  transform 位移

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
    position: relative;
}
.son {
   	position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%); 
}
```

### flex 属性居中

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
 	display: flex;
	justify-content: center;
	align-items: center;   
}
```

### flex + margin auto

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
    display: flex;
}
.son {
    margin: auto;
}
```

### grid 属性居中

```html
<div class="father">123123</div>
// 或者
<div class="father">
    <div class="son">
        123123
    </div>	
</div>	
```

```css
.father {
    display: grid;
    justify-content: center;
    align-items: center;
}
```

### grid 子项属性居中

```html
<div class="father">
    <div class="son">
        123123
    </div>	
</div>	
```

```css
.father {
    display: grid
}
.son {
    align-self: center;
    justify-self: center;
}
```

### grid +  margin auto

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
    display: grid;
}
.son {
    margin: auto;
}
```

grid 和 flex 很像，是 flex 的升级版，所以 grid 能做的事情更多

以上绝对定位、flex、grid 关于水平垂直居中的做法，剩下再说居中比较老的布局方法

### -webkit-box 属性居中

这是一个已经过时的布局，可以看看这篇文章 [CSS3 display: flex和display: box有什么区别？](https://www.zhihu.com/question/22991944)

网友一丝说：

> flex 是2012年的语法，是以后的标准
>
> box是 2009年的语法，已经过时，需要加上对应前缀

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
    display: -webkit-box;
    -webkit-box-pack: center;
    -webkit-box-align: center;
}
```

### table-cell + text-align

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
   	display: table-cell;
    vertical-align: middle;
    text-align: center;
}
.son {
   display: inline-block;
}
```

### line-height + text-align

```html
<div class="father">
    <div class=“son”>
        123123
    </div>	
</div>
```

```css
.father {
    height: 200px;
    line-height: 200px;
    text-align: center;
}
```

### writing-mode

```html
<div class="father">
    <div class=“son”>
        <div class=“sonson”>
            123123
        </div>	
    </div>	
</div>
```

```css
.father {
    writing-mode: tb-lr;
    writing-mode: vertical-lr;
    text-align: center;
}

.father .son {
    writing-mode: lr-tb;
    writing-mode: horizontal-tb;
    text-align: center;
    width: 100%;
    display: inline-block;
}
.father9 .son .sonson {
    display: inline-block;
    text-align: initial;
}
```

说明

https://liyongleihf2006.github.io/center-box/

当**元素有宽高**的情况，又多了三种方案

### 绝对居中 + margin 负边距

父元素

```css
position: relative;
height: 200px; // 设置一个高度
```

子元素

```css
width: 100px;
height: 100px;
position: absolute;
top: 50%;
left: 50%;
margin: -50px 0 0 -50px;
```

父元素必须要有个高度，子元素必须要有个宽高，才能计算出 margin 值

### 绝对定位 + calc

父元素

```css
position: relative;
height: 200px;
```

子元素

```css
width: 100px;
height: 100px;
position: absolute;
top: calc(50% - 50px);
left: calc(50% - 50px);
```

和上一种情况很相近，同样需要父元素有高度，以及子元素必须要有高度，不用margin，而用 CSS3 中的 calc，计算出要居中位移，兼容性需要支持 CSS3 属性

### 绝对居中 + margin: auto

父元素

```css
position: relative;
height: 200px; // 必须要有个高度
```

子元素

```css
width: 100px;
height: 100px;
position: absolute;
top: 0;
left: 0;
bottom: 0;
right: 0;
margin: auto;
```

父元素必须要有个高度，子元素 `marin: auto`





其实，居中方面，如果面试官硬要问还有吗？还真的有，绝对定位中

- fixed + 负 margin
- fixed + calc
- fixed + margin auto
- fixed + transform

但这些都有前提，`position: fixed` 定位都是相对于屏幕视口（viewport），局限性比较大（全局居中）









随着微软宣布放弃IE11，我们用flex就可以了，grid 部分还不适配，但是以后肯定会取代 flex











## 参考资料

- [如何居中一个元素（终结版）](https://github.com/ljianshu/Blog/issues/29)
- [给你一份详细的CSS布局指南，请查收](https://juejin.cn/post/6844904121862979597#heading-2)
- [CSS实现水平垂直居中的1010种方式（史上最全）](https://yanhaijing.com/css/2018/01/17/horizontal-vertical-center/)

