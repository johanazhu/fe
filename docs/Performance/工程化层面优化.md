# 工程化层面优化

常见问题：如何让 webpack 打包更快

并发：使用多进程打包

缓存：打包时利用缓存

打包量要小：缩小文件搜索范围，减小不必要的编译工作







打包优化

- webpack
  - loader
  - dll
  - happypack
  - 代码压缩
  - tree shaking
  - scope hositing
  - code splitting
- 图片 base64，cdn



如何做页面的性能优化

1.减少体积（打包优化、babel 优化）

webpack 打包，使用 webpack content-hash

文件指纹是打包后输出的文件名的后缀

- `Hash` ：和整个项目的构建相关，只要项目文件有修改，整个项目构建的 hash 值就会更改

- `Chunkhash`：和 webpack 打包的 chunk 有关，不同的入口会有不同的 chunkhash

- `Contenthash`：根据文件内容来定义 hash，文件内容不变，则 contenthash 不变

  2.延迟加载（资源的异步加载）



### 资源合并

CSS 雪碧图 -> Icon Font -> SVG Symbols

webpack



### 资源内敛

小图片 -> data url

小 CSS 文件 -> `<style>代码</style>`

小 JS 文件 ->`<script>代码</script>`

webpack 配置即刻



### 资源压缩（gzip）

nginx 、 Apache、Node.js



### 资源精简

HTML -> 删空格、删闭合

CSS -> 删未用

JS -> 改名、tree shaking

SVG -> 删无用标签、属性

图片 -> 减少体积（有损/无损）



### 减少 Cookie 体积

4kb 新域名



### CDN 的原理和实施

CDN 内容分发网络

