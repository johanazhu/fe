# **渲染进程中的线程**



### 写在面前

上一章我们介绍了 [浏览器架构](./浏览器架构.md) 。介绍了现代浏览器的架构为多进程架构，它由浏览器主进程、GPU进程、网络进程、音频进程、存储进程、多个渲染进程和多个插件进程组成（89.0.4389.90版本Chrome）。我们也说了线程的崩坏会导致页面（渲染进程）卡死，但不会影响其他页面。

那么渲染进程有什么组成？这个很重要，因为它是页面渲染、事件循环的基础。



### 一句话解释

渲染进程中包括 JS引擎线程、事件触发线程、网络异步线程、定时器线程？

渲染进程内部包含主线程、工作线程、合成线程和光栅线程



### 由什么组成

#### JS引擎线程

- 也称为JS内核，负责处理 JavaScript 脚本程序（例如V8引擎）

- JS 引擎线程负责解析 JavaScript 脚本，运行代码

  

#### GUI渲染线程

- 负责渲染浏览器界面，解析HTML、CSS，构建DOM树和RenderObject 树，布局和绘制等
- 当界面需要重绘或由于某种操作引发回流时，该线程就会执行
- 注意，GUI渲染线程与JS引擎线程时互斥的，当JS引擎执行时GUI线程会被挂在，GUI更新会被保存在一个队列中等待JS引擎空闲时立即被执行



#### 事件触发线程

- 归属于浏览器而不是`JS`引擎，用来控制事件循环



#### 定时触发器线程

- `setTimeout`和`setInterval`所在的线程



#### 异步`http`请求线程

- 在`XMLHttpRequest`在连接后是通过浏览器新型一个线程请求





### 参考资料

[浏览器渲染机制](https://segmentfault.com/a/1190000014018604)

