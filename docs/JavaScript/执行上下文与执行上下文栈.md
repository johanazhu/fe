# 执行上下文与执行上下文栈



写在前面，我们需要前置知识，先了解下什么是执行上下文栈，

以及每个执行上下文，都有三个重要属性：

- 变量对象（Variable object，VO）
- 作用域链（Scope chain）
- this





执行上下文，有栈的概念，先把全局的压进去，看到有函数要执行，再塞进去，

栈的特点：先进后出

有没有koa的洋葱模型既视感

https://juejin.im/post/6844903473301946381







```javascript
var scope = "global scope";
function checkscope(){
    var scope = "local scope";
    function f(){
        return scope;
    }
    return f();
}
checkscope();

```



```javascript
var scope = "global scope";
function checkscope(){
    var scope = "local scope";
    function f(){
        return scope;
    }
    return f;
}
checkscope()();

```



```
checkscope()
```





执行上下文的diamante会分成两个阶段进行处理：分析和执行，我们也可以叫做：

1. 进入执行上下文
2. 代码执行