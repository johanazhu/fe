# Linux 常用命令



## 常用命令列表

`ps`：查看进程

- `ps -ef ` 是否有进程
- `ps -ef | grep xxx`：管道筛选相应进程

`grep`：管道

- `ps -ef | grep redis`：查看启动的 redis 进程
- `ps -ef | grep nginx`：查看启动的 nginx 进程
- `ps -ef | grep node`：查看启动的 node 进程

`pwd`：查看所在目录位置

`ifconfig`：查看网络设备信息

`free`：检查内存

- `free -h`：查看内存，显示单位

`df -lh`：查看磁盘空间

`du`：查看占用空间

- `du -sh *`：查看目录下的各个文件所占内存

`uname`：显示系统内核信息

- `uname`：系统内核名称
- `uname -a`：系统所有相关信息
- `uname -m`：计算机硬件架构
- `uname -r`：系统内核版本号
- `uname -i`：系统硬件架构

`ls /etc/*release`：查看发行版的版本号

`lsb_release -a`：⭐查询系统版本

`cat /etc/lsb-release`：查看系统版本

`which`：查看安装位置

- `which nginx`：查看 nginx 的安装位置

`whereis`：显示与至相关的文件的路径位置

- `whereis nginx`：与 nginx 香瓜你的文件的路径位置

`find`：查找

- `find -name '*.jar'`
- `find / -name redis.conf`

`tar`：解压

- `tar -zxvf xxxx.tar.gz`：解压文件

`help`：帮助手册

`cp`：复制

`mv`：移动/改名

- `mv filename.txt /home/johan/`
- `mv code-react-app app`

`jobs`：查看后台程序

`netstat`：

- `netstat -ntlp`：查看占用的端口

`tail`：查看文件尾部内容

- `tail -n 10`：查看最新的10行日志
- `tail -n 5 /etc/passwd`：查看用户

`sz`：下载

- `sz error.log`：下载日志到本地

`nohup`：⭐后台启动程序

- `nohup xxx &`：后台启动程序

`kill`：杀掉进程

- `kill -9 xx(进程号)`
- 通过 `ps -ef` 来查找进程 

`chmod`：提高文件权限

- `chmod 600 start.sh`

`yum`：安装

`wget`：下载安装包

`apt`：apt 是一个命令行包管理器用于在基于Debian 的 Linux 发行版，例如Ubuntu Linux mint。安装，更新，删除和管理 deb 软件包



## 查看端口

`netstat`：

- `netstat -ntlp`：查看占用的端口
- `   netstat -tuln | grep 5432`：检查PostgreSQL端口监听状态





## systemctl：管理系统服务

systemctl命令来自英文词组 system control 的缩写，其功能是管理系统服务。从RHEL 7/ CentOS 7版本起，初始化进程服务init被替代为systemd服务，systemd初始化进程服务的管理是通过systemctl命令完成的，该命令涵盖了service、chkconfig、init、setup等多个命令的大部分功能。

语法格式：`systemctl 参数 动作 服务名`

- `systemctl start docker`：启动指定的服务
- `systemctl stop docker`：停止指定的服务
- `systemctl restart docker`：重启指定的服务
- `systemctl status docker`：查看指定的服务状态
- `systemctl enable docker`：将指定的服务加入到开启启动项中
- `systemctl disable docker`：将指定的服务从开启启动项中取消
- `systemctl list-units --type=service`：显示系统中所有已启动的服务列表信息



## firewall-cmd：防火墙策略管理工具

firewall-cmd 命令的功能是管理防火墙策略，是 firewalld 服务的配置工具。使用 firewall-cmd 命令修改的防火墙策略会立即生效，但重启后失效，因此在使用时推荐加上permanent参数。

语法格式：` firewall-cmd 参数 对象   `

- `firewall-cmd --state`：查看当前防火墙状态
- `firewall-cmd --zone=public --list-ports`：查看防火墙当前放行端口列表
- `firewall-cmd --reload`：重新加载防火墙策略，立即生效
- `firewall-cmd --zone=public --add-port=8080-8081/tcp`：设置 8080-8081 为防火墙运行放行的端口号
- `firewall-cmd --zone=public --add-port=80/tcp --permanent`：添加 80 端口
- `firewall-cmd --zone=public --remove-port=80/tcp --permanent`：删除 80 端口



### 命令参数

- --zone：指定要添加服务的区域名称。
- --add-service：指定要添加的服务名称。
- --permanent：指定该规则永久生效。

除此之外，还有其他可选参数：

- --list-all：列出所有规则。
- --reload：重新加载防火墙规则。
- --permanent：将规则保存到永久配置中，以便系统重启后仍然有效。
- --delete-service：删除服务。
- --list-services：列出当前系统中所有可用服务。
- --add-source：添加一个 IP 或 IP 段。
- --remove-source：删除一个 IP 或 IP 段。
- --list-sources：列出所有已添加的 IP 或 IP 段。
- --add-port：添加端口。
- --remove-port：删除端口。
- --list-ports：列出所有已添加的端口。
- --add-rich-rule：添加一个更加复杂的规则。
- --query-service：查询服务是否可用。
- --get-zones：列出所有可用的区域。
- --zone=zone-name：指定一个区域。



## dpkg 命令

> `dpkg` 即 package manager for Debian，是 Debian 和基于 Debian 的系统中的一个主要的包管理工具，可以用来安装、构建、卸载、管理 `deb` 格式的软件包

##### **安装软件**

使用 `dpkg` 命令安装软件时，可以使用 `-i` 选项并指定 deb 安装包的路径。和 Ubuntu 下的另一个包管理工具 `apt-get`（Advanced Package Tool）有所不同。



apt-get 命令安装软件： `$ apt-get install`

dpkg 命令安装软件： `$ dpkg -i`

https://cloud.tencent.com/developer/article/1484940

https://blog.csdn.net/whatday/article/details/78467023



 dpkg -l | grep postgresql 













## [卸载步骤](https://docs.dokploy.com/cn/docs/core/get-started/uninstall#卸载步骤)

按照以下步骤从您的服务器中完全删除 Dokploy 及其组件。

### [第 1 步： 删除 Docker Swarm 服务](https://docs.dokploy.com/cn/docs/core/get-started/uninstall#第-1-步-删除-docker-swarm-服务)

首先，删除 Docker Swarm 中的 Dokploy 以及相关服务:



```bash
docker service rm dokploy dokploy-traefik dokploy-postgres dokploy-redis
```

### [第 2 步： 删除 Docker 挂载卷](https://docs.dokploy.com/cn/docs/core/get-started/uninstall#第-2-步-删除-docker-挂载卷)

接下来，删除 Dokploy 创建的 Docker 卷：



```bash
docker volume rm -f dokploy-postgres-database redis-data-volume
```

### [第 3 步： 删除 Dokploy 文件](https://docs.dokploy.com/cn/docs/core/get-started/uninstall#第-3-步-删除-dokploy-文件)

最后，从服务器上删除 Dokploy 文件和目录：



```bash
sudo rm -rf /etc/dokploy
```



## 参考资料

-   [linux 学习资源整理](https://zhuanlan.zhihu.com/p/22654634)
-   [整理一些常用的脚本（持续更新中）](https://blog.laoda.de/archives/useful-script#docker%E7%9B%B8%E5%85%B3)
-   [Linux 教程](https://www.myfreax.com/linux-tutorial/)

