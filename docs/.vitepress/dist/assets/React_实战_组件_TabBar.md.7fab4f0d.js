import{_ as s,c as a,o as n,d as p}from"./app.590c1fbf.js";const A=JSON.parse('{"title":"TabBar 组件","description":"","frontmatter":{},"headers":[],"relativePath":"React/实战/组件/TabBar.md"}'),l={name:"React/实战/组件/TabBar.md"},o=p(`<h1 id="tabbar-组件" tabindex="-1">TabBar 组件 <a class="header-anchor" href="#tabbar-组件" aria-hidden="true">#</a></h1><p>首先，我们会想如何做一个 TabBar 组件，该如何规划，让我们逆向思维，如果我们用 TabBar 组件时我们希望它是怎么样的写法以及需要传递什么值（props）来展示。</p><p>如果按照开发的思想看思路走</p><p>我们也许会做出像这种的</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TabBar</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">currentIndex</span><span style="color:#89DDFF;">={</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={(</span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">list</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">理财产品</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">我的资产</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TabBar</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">activeIndex</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">active</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">icon</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">back</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">aa</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        标签1</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">icon</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">setting</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">标签2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">icon</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">clock</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">标签3</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">icon</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">close</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">标签4</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">TabBar.Item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">TabBar</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>我们当然可以把 click 事件绑定到 Item 标签上，但是如果你的 Item 多了，你不是要复制很多次吗？</p><p>这个时候聪明的你会不会联想到 雅虎军规中 代码优化中的减少 dom 操作，通过事件冒泡的形式来让子元素上的事件委托给父元素，让父元素代子元素点击，因为子元素为兄弟关系（结构相同，内容不同），只用绑定父元素就能很好的减少 dom 操作。</p><p>写到这里，如果是基本情况的 Tabbar 就已经差不多了，修改下 css 就通用了。但是我们的要求是希望功能更全面。比如他既可以当做底部的 Tabbar 用，也可以在页面中当做顶部导航切换，切换的时候能加下划线标识。当 Item 超过 4 个之后希望它能滑动。</p><p>只有让它先滑动起来，下划线跟着滑动就是，所以滑动是其中的重点。</p><p>按照这两个思路去想，需要改造 css，布局将不采用 flex 布局，而是采用 position 定位。且需要有个 wrapper 包裹主 Item</p><p>React.Children.count(this.props.children)</p><p>查看子元素的数量</p><details open><summary> 我是标题</summary><p>Requires a computer running an operating system. The computer must have some memory and ideally some kind of long-term storage. An input device as well as some form of output device is recommended.</p></details><p>如果有不明白的童靴，可以去了解下什么是 TabBar？</p><p>组件开发</p><p>文档写法 react-markdown-loader 也许可以，不知道</p><p>作者：金瓶世家</p><p>柯里化（curry）</p><p>概念：只传递给函数一部分参数来调用它，让它返回一个函数去处理剩下的参数</p><p>flex 布局</p><p>Mixin（混入）是一种通过扩展手机功能的方式，它本质上是将一个对象的属性拷贝到另一个对象上，不过你可以拷贝 <code>任意多</code> 个对象的 <code>任意个</code> 方法到一个新对象上，这是 <code>继承</code> 所不能实现的。它的出现主要就是为了解决代码复用问题。</p><p>umi3 乾坤</p><p>做一个大的框架，包裹了 jquery 现在的二合一项目，然后点击的时候跳转到其他的项目中。</p>`,24),e=[o];function t(r,c,D,F,y,i){return n(),a("div",null,e)}const b=s(l,[["render",t]]);export{A as __pageData,b as default};
