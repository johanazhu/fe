import{_ as s,c as a,o as e,d as l}from"./app.590c1fbf.js";const u=JSON.parse('{"title":"Mysql","description":"","frontmatter":{},"headers":[{"level":2,"title":"介绍","slug":"介绍","link":"#介绍","children":[]},{"level":2,"title":"安装步骤","slug":"安装步骤","link":"#安装步骤","children":[]},{"level":2,"title":"数据库图形化工具","slug":"数据库图形化工具","link":"#数据库图形化工具","children":[]},{"level":2,"title":"常见命令行","slug":"常见命令行","link":"#常见命令行","children":[]},{"level":2,"title":"命令行操作数据库","slug":"命令行操作数据库","link":"#命令行操作数据库","children":[]},{"level":2,"title":"数据库操作","slug":"数据库操作","link":"#数据库操作","children":[{"level":3,"title":"操作表","slug":"操作表","link":"#操作表","children":[]}]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[{"level":3,"title":"1. mysql控制台 show databases不显示结果的原因","slug":"_1-mysql控制台-show-databases不显示结果的原因","link":"#_1-mysql控制台-show-databases不显示结果的原因","children":[]},{"level":3,"title":"2. 连接远程数据库","slug":"_2-连接远程数据库","link":"#_2-连接远程数据库","children":[]}]}],"relativePath":"BackEnd/Mysql.md"}'),n={name:"BackEnd/Mysql.md"},p=l(`<h1 id="mysql" tabindex="-1">Mysql <a class="header-anchor" href="#mysql" aria-hidden="true">#</a></h1><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-hidden="true">#</a></h2><ul><li>web server 中最流行的关系型数据库</li><li>官网可免费下载，用于学习</li><li>轻量级，易学易用</li></ul><h2 id="安装步骤" tabindex="-1">安装步骤 <a class="header-anchor" href="#安装步骤" aria-hidden="true">#</a></h2><p>可看这篇——<a href="https://zhuanlan.zhihu.com/p/37152572" target="_blank" rel="noreferrer">超级详细的mysql数据库安装指南</a></p><h2 id="数据库图形化工具" tabindex="-1">数据库图形化工具 <a class="header-anchor" href="#数据库图形化工具" aria-hidden="true">#</a></h2><p>SQLyog、Navicat 这两个我都有用</p><h2 id="常见命令行" tabindex="-1">常见命令行 <a class="header-anchor" href="#常见命令行" aria-hidden="true">#</a></h2><p>登录mysql</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>本地登录mysql</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-h</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">IP地址</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="命令行操作数据库" tabindex="-1">命令行操作数据库 <a class="header-anchor" href="#命令行操作数据库" aria-hidden="true">#</a></h2><ul><li><code>show databases;</code>：显示所有的数据库表</li><li><code>create database blog;</code>：创建数据库</li><li><code>use blog;</code>：使用数据库</li><li><code>show tables;</code>：显示数据库中所有表</li><li><code>show columns from customers;</code>：查看表结构</li><li><code>drop database blog;</code>：删除数据库</li><li><code>mysqldump -h localhost -u root -p blog &gt; D:\\blog.sql</code>：导出数据库 blog 的结构和数据</li><li><code>mysqldump -h localhost -u root -p blog -d&gt; D:\\blog_stru.sql</code>：导出数据库 blog 的结构（加-d 参数）</li><li><code>mysqldump -h localhost -u root -p blog customers &gt; D:\\customers.sql</code>：导出数据库 blog 中的 customers 表的结构和数据</li><li><code>mysql -h localhost -u root -p blog &lt; D:\\blog.sql</code>：向数据库 blog 导入数据库文件 blog.sql</li></ul><blockquote><p>MySQL命令终止符为分号 <strong>;</strong> 。</p></blockquote><h2 id="数据库操作" tabindex="-1">数据库操作 <a class="header-anchor" href="#数据库操作" aria-hidden="true">#</a></h2><p>简单来说，就是三个操作：建库、建表、操作表</p><p>建库：<code>create database blog;</code></p><p>建表：<code>create table users;</code></p><h3 id="操作表" tabindex="-1">操作表 <a class="header-anchor" href="#操作表" aria-hidden="true">#</a></h3><p>学会 增、删、改、查 即可</p><h4 id="增" tabindex="-1">增 <a class="header-anchor" href="#增" aria-hidden="true">#</a></h4><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#A6ACCD;"> users(username, </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">, realname) </span><span style="color:#F78C6C;">values</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lisi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">李四</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="查" tabindex="-1">查 <a class="header-anchor" href="#查" aria-hidden="true">#</a></h4><p>查 users 表所有信息</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查 users 表中其中 id 和 username 的信息</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> id, username </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查符合条件的项 where</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> username</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查符合条件的项多个条件 <code>and</code> 和 <code>or</code></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> username</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">and</span><span style="color:#A6ACCD;"> realname</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">111</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>模糊查询 <code>like</code></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> username </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%zhang%</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查 排序 <code>order by id</code> 默认正序，如果倒序 在 id 后加 desc <code>order by id desc</code></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> username </span><span style="color:#F78C6C;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%zhang%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> id </span><span style="color:#F78C6C;">desc</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>ps：一般不用 * ，耗性能</p></blockquote><h4 id="改" tabindex="-1">改 <a class="header-anchor" href="#改" aria-hidden="true">#</a></h4><p>更新 id 为 3 的 realname 为张三</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> users </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> realname</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张三</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="删" tabindex="-1">删 <a class="header-anchor" href="#删" aria-hidden="true">#</a></h4><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> users </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> realname</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">李四</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>但一般来说不用 delete，二是在 users 表中加一个状态，通过状态来判断他是否被删除。这种技术又称软删除</p><blockquote><p>PS：如果你的更新和删除出现 error：1175 处于安全模式，先使用以下代码解除安全模式</p></blockquote><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">SET</span><span style="color:#A6ACCD;"> SQL_SAFE_UPDATES</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-hidden="true">#</a></h2><h3 id="_1-mysql控制台-show-databases不显示结果的原因" tabindex="-1">1. mysql控制台 show databases不显示结果的原因 <a class="header-anchor" href="#_1-mysql控制台-show-databases不显示结果的原因" aria-hidden="true">#</a></h3><p>语句少了分号&#39;；&#39;，<code>show datbases;</code></p><h3 id="_2-连接远程数据库" tabindex="-1">2. 连接远程数据库 <a class="header-anchor" href="#_2-连接远程数据库" aria-hidden="true">#</a></h3><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-h</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ip</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">数据库</span><span style="color:#A6ACCD;">名</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">用户名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>例如：<code>mysql -h 47.102.152.19 -u root -p </code></p><p>连接远程数据库会报错：ERROR 2003 (HY000): Can&#39;t connect to MySQL server on &#39;X.X.X.X&#39; (10060)</p><p>解决方案：<a href="https://blog.csdn.net/weixin_41287260/article/details/102802238" target="_blank" rel="noreferrer">ERROR 2003 (HY000): Can&#39;t connect to MySQL server on &#39;X.X.X.X&#39; (10060)</a></p><blockquote><p>1.阿里云服务器的安全组是否开放3306端口</p><p>2./etc/mysql/my.cnf 文件中的bind-address 设置为 0.0.0.0</p><p>3.将host设置为%表示任何ip都能连接mysql</p><p>4.防火墙问题，具体可以看这篇文章——<a href="./../Linux/防火墙知一二.html">防火墙知一二</a></p></blockquote>`,54),o=[p];function r(t,c,i,d,C,y){return e(),a("div",null,o)}const D=s(n,[["render",r]]);export{u as __pageData,D as default};
