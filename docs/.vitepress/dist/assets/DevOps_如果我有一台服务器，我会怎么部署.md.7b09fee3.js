import{_ as s,c as a,o as n,d as l}from"./app.590c1fbf.js";const p="/assets/修改安全配置.b4b646cb.png",e="/assets/阿里云网关配置.f095ad6a.png",h=JSON.parse('{"title":"如果我有一台服务器，我会怎么部署","description":"","frontmatter":{},"headers":[{"level":3,"title":"ssh 密钥认证免密登录","slug":"ssh-密钥认证免密登录","link":"#ssh-密钥认证免密登录","children":[]},{"level":3,"title":"修改默认端口（提高安全性）","slug":"修改默认端口-提高安全性","link":"#修改默认端口-提高安全性","children":[]},{"level":3,"title":"安装所需环境","slug":"安装所需环境","link":"#安装所需环境","children":[]},{"level":3,"title":"上传代码实现一个小服务","slug":"上传代码实现一个小服务","link":"#上传代码实现一个小服务","children":[]},{"level":3,"title":"配置 Nginx 实现反向代理","slug":"配置-nginx-实现反向代理","link":"#配置-nginx-实现反向代理","children":[]},{"level":3,"title":"服务器配置安装 MongoDB","slug":"服务器配置安装-mongodb","link":"#服务器配置安装-mongodb","children":[]}],"relativePath":"DevOps/如果我有一台服务器，我会怎么部署.md"}'),o={name:"DevOps/如果我有一台服务器，我会怎么部署.md"},t=l(`<h1 id="如果我有一台服务器-我会怎么部署" tabindex="-1">如果我有一台服务器，我会怎么部署 <a class="header-anchor" href="#如果我有一台服务器-我会怎么部署" aria-hidden="true">#</a></h1><p>linux 常规命令</p><table><thead><tr><th>命令名</th><th>作用</th><th></th></tr></thead><tbody><tr><td>df -h</td><td>面板使用情况</td><td></td></tr><tr><td>fdisk -l</td><td>数据盘</td><td></td></tr><tr><td>adduser hanbo_manager</td><td>添加用户</td><td></td></tr><tr><td>gpasswd -a hanbo_manager sudo</td><td>给 hanbo_manager sudo 的权限</td><td></td></tr><tr><td>ps -ef | grep visudo</td><td>查到 visudo 的进程号</td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><table><thead><tr><th>命令行</th><th>作用</th><th></th></tr></thead><tbody><tr><td>useradd -m 用户名</td><td>添加用户</td><td></td></tr><tr><td>passwd 用户名</td><td>设置密码</td><td></td></tr><tr><td>userdel -r 用户名</td><td>删除用户</td><td></td></tr><tr><td>cat /etc/passwd</td><td>查看所有用户</td><td></td></tr><tr><td>cat /etc/group</td><td>查看用户组</td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>centos7 操作 ssh/sshd 服务命令</p><table><thead><tr><th>命令行</th><th>作用</th><th></th></tr></thead><tbody><tr><td>systemctl status sshd.service</td><td>查看状态</td><td></td></tr><tr><td>systemctl start sshd.service</td><td>启动服务</td><td></td></tr><tr><td>systemctl restart sshd.service</td><td>重启服务</td><td></td></tr><tr><td>systemctl enable sshd.service</td><td>开机自启</td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>登录远程服务器</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">39999</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elaine@47.102.152.19</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>修改环境变量的方法</p><p><a href="https://blog.csdn.net/u011630575/article/details/49839893" target="_blank" rel="noreferrer">https://blog.csdn.net/u011630575/article/details/49839893</a></p><p>方法二：</p><p>在用户目录下的.bash_profile 文件中增加变量（对单一用户有效（永久的））</p><p>用 vim 修改完 .bash_profile 文件后</p><p>使用 source .bash_profile 就能让修改后的文件生效</p><p>如何在服务器上做配置，先登录 liunx 服务器，</p><p>给自己设立一个超级管理员 johan</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">adduser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">johan</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如何查看用户信息呢？</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/passwd</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>但是我们没有设置超级管理员 johan 的密码</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">passwd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">johan</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>给他权限</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">visudo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在 <code>Allow root to run any commands anywhere</code> 处添加</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">johan   ALL=(ALL)       ALL</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后我们需要给我们的服务添加无密码登录服务</p><h3 id="ssh-密钥认证免密登录" tabindex="-1">ssh 密钥认证免密登录 <a class="header-anchor" href="#ssh-密钥认证免密登录" aria-hidden="true">#</a></h3><p>先给他设置个代理人 elaine，不要通过 root 来操作，而是给 代理人（elaine）超级管理员权限，右他来帮忙做操作。</p><p>接着登录 elaine 账号，生成公钥私钥</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ssh-keygen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rsa</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-C</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">t511069160@qq.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 结果</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># The key fingerprint is:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># SHA256:WA1p8jpMzSG/TKsZc5QlFbQIHfEh34bsCkblwHBKf9c t511069160@qq.com</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># The key&#39;s randomart image is:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># +---[RSA 4096]----+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |    oo+.**=.     |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |   . ++=*O.*     |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |    . oO==O E    |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |     ..+Oo .     |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |     o+=So.      |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |     .*.=.       |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |       B.        |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |      o          |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># |                 |</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># +----[SHA256]-----+</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>生成后开启代理</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">eval</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">ssh-agent</span><span style="color:#C3E88D;"> -s</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Agent pid 11429</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>将钥匙添加至 id_rsa 中</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ssh-add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.ssh/id_rsa</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Identity added: /home/elaine/.ssh/id_rsa (/home/elaine/.ssh/id_rsa)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>进入 .ssh 文件，编辑生成 authorized_keys 文件</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">authorized_keys</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后将本地的公钥拿来</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># window 在C:\\Users\\Administrator\\.ssh 文件中</span></span>
<span class="line"><span style="color:#FFCB6B;">.ssh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">id_rsa.pub</span></span>
<span class="line"><span style="color:#FFCB6B;">ssh-rsa</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">AAAAB3NzaC1yc2EAAAADAQABAAABAQCmjUTPsPm7VAyAFynI8KDh/VUt1vD6/LrjAErSWcRUxDRDfDcNS8G5T+kU+89erxXSV4fulCpGBCa0cnzBvz4IdhMaASBE60DdMXzUE7ITCtKVWr2VHJpmqXnA75VXL4wS9e90z2+tShB++BcPlYGEfTugqiMfqpRJXn0S9QlAQ9GWGUnBKEiS3s58LRAM0m/GfQ9ad3xlf7EeMVCdXKy6+BKQx3FnYEA44hTiwxKZPh/hzb/K2zUHygVb04D8/NDw6270FVHNfwcmRWh+wMqJy5hCtKEKc9LoEtgo2CgOdyg7Z9Mtc/FtN8CKIT5UCU0DgIM5t9DEi8Ll5lbA9D5L</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t511069160@qq.com</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>复制本地公钥，拷贝到 authorized_keys 中</p><p>接着修改 authorized_keys 的权限，<code>chmod 600 authorized_keys</code> ，并重启服务 <code>sudo systemctl restart sshd.service</code> （centos7 重启服务）。重开一个终端，看看是否需要登录</p><h3 id="修改默认端口-提高安全性" tabindex="-1">修改默认端口（提高安全性） <a class="header-anchor" href="#修改默认端口-提高安全性" aria-hidden="true">#</a></h3><p>默认端口是 22，提高安全性，肯定不能用默认的端口，那么就需要在配置里修改</p><p>登录 elaine 超级管理员账号，</p><p>sudo vi /etc/ssh/sshd_config</p><p>修改端口号</p><p>port 22</p><p>修改为</p><p>port 39999</p><p>拉倒最下面</p><p>修改以下配置</p><p><img src="`+p+'" alt="1592143197351"></p><p>PS： 需要注意的是，你如果买的是阿里云的服务器，需要在控制面板中的安全组里添加入方向端口</p><p><img src="'+e+`" alt="1592220240860"></p><p>配置 iptable 防火墙</p><p><strong>检查安全组设置</strong></p><p>添加 端口配置</p><p>firewall 添加 443 端口</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--list-ports</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#output 80/tcp</span></span>
<span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--zone=public</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-port=443/tcp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--permanent</span></span>
<span class="line"><span style="color:#FFCB6B;">firewall-cmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--reload</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="安装所需环境" tabindex="-1">安装所需环境 <a class="header-anchor" href="#安装所需环境" aria-hidden="true">#</a></h3><p>先更新 yum</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upgrade</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果你在 ubuntu 操作系统下，请用 apt-get 来代替</p><p>下载所需要的东西</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">openssl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">libssl-dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">groupinstall</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Development Tools</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 下载 nvm</span></span>
<span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/nvm-sh/nvm/v0.</span><span style="color:#F78C6C;">35.3</span><span style="color:#C3E88D;">/install.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noreferrer">https://github.com/nvm-sh/nvm</a></p><p>将 nvm 命令行配置进 环境中</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">nvm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v12.</span><span style="color:#F78C6C;">18.0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="上传代码实现一个小服务" tabindex="-1">上传代码实现一个小服务 <a class="header-anchor" href="#上传代码实现一个小服务" aria-hidden="true">#</a></h3><p>在本地新建一个新的 js 文件</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> http </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HomePage </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">&lt;html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">  &lt;head&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;meta charset=&#39;utf-8&#39;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;title&gt;部署上线测试代码&lt;/title&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;style type=&quot;text/css&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        * { padding: 0; margin: 0; }</span></span>
<span class="line"><span style="color:#C3E88D;">        body { padding: 30px 0; text-align: center; font-size: 16px; background-color: #333; }</span></span>
<span class="line"><span style="color:#C3E88D;">        h1, h2 { color: #fff; }</span></span>
<span class="line"><span style="color:#C3E88D;">        nav { margin-top: 20px; }</span></span>
<span class="line"><span style="color:#C3E88D;">        a { color: #ccc; text-decoration: none; }</span></span>
<span class="line"><span style="color:#C3E88D;">        a:hover { text-decoration: underline; }</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;/style&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">  &lt;/head&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">  &lt;body&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;h1&gt;Hello word&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;h2&gt;代码上线我最棒&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">  &lt;/body&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">&lt;/html&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">http</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createServer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">statusCode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setHeader</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">end</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">HomePage</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">8001</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Server Running At 8001</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>在服务器端下载 lrzsz</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lrzsz</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>通过 lrzsz 上传 本地写好的 node 服务</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">rz</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>上传至 johan 目录的根目录下，因为允许访问的是 8001 端口，所以需要到阿里云服务器上配置 出入安全组</p><p>设置完后回到服务器上启动 node 服务</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>就能直接访问了</p><p>但是为了让我们能在启动服务的同时再才做服务器，需要一个专门管理启动服务的包，那就是 pm2 ，可以理解为管家，我要启动、停止、重启服务，只用告诉它，它会去做</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span></span>
<span class="line"><span style="color:#FFCB6B;">pm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>我们已经启动了一个服务了，一个很简单的，只有一个文件的服务，但是如果是 5 个项目呢？如果 5 个项目中有前端和后端该怎么做呢？</p><p>通过 nginx 代理 ，访问不同的二级域名，nginx 将用户的访问反向代理到 内部服务</p><p>图片缺失</p><p>也就是说，用户访问 <a href="http://azhubaby.com" target="_blank" rel="noreferrer">azhubaby.com</a> , nginx 会将请求转发给服务器内部的 8001 的服务，访问 <a href="http://fe.azhubaby.com" target="_blank" rel="noreferrer">fe.azhubaby.com</a> ，nginx 会将请求转发给服务器内部的 8002 端口的服务，以此类推</p><p>而为什么要有反向代理，因为用户只访问 80 端口，他们不会再后面输入端口号，但是我们是开发者，我们可以释放很多接口，所以反向代理是为了方便用户，nginx 转发用户请求</p><p>既然我们知道了整个流程的理论知道，那么就开干，开干之前先买好域名和备案</p><h3 id="配置-nginx-实现反向代理" tabindex="-1">配置 Nginx 实现反向代理 <a class="header-anchor" href="#配置-nginx-实现反向代理" aria-hidden="true">#</a></h3><p>先停止服务器中的 apache2 或者 apache ，再删除它</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apache2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apache</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"><span style="color:#FFCB6B;">update-rc.d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apache2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apache2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>更新下包列表</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>下载 nginx</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>进入 etc/nginx</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>进入 conf.d 中</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">conf.d</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>在这里新建配置文件（以后的配置指向这里，一个文件代表一个服务代理）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">azhubaby-com-8081.conf</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 在里面配置</span></span>
<span class="line"><span style="color:#FFCB6B;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">azhubaby</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">127.0.0.1:</span><span style="color:#F78C6C;">8081</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">server_name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">47.102.152.19</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">X-Real-IP</span><span style="color:#A6ACCD;"> $remote_addr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">X-Forward-Fr</span><span style="color:#A6ACCD;"> $proxy_add_x_forwarded_for</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Host</span><span style="color:#A6ACCD;"> $http_host</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_set_header</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">X-Nginx-Proxt</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_pass</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://azhubaby</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">proxy_redirect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>检查 nginx 是否配置正确</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="服务器配置安装-mongodb" tabindex="-1">服务器配置安装 MongoDB <a class="header-anchor" href="#服务器配置安装-mongodb" aria-hidden="true">#</a></h3><p>安装（参考官网：<a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/%EF%BC%89" target="_blank" rel="noreferrer">https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/）</a></p><p>新建一个文件</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/yum.repos.d/mongodb-org-4.2.repo</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>配置 yum 源</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">mongodb-org-</span><span style="color:#F78C6C;">4.2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">MongoDB</span><span style="color:#A6ACCD;"> Repository</span></span>
<span class="line"><span style="color:#A6ACCD;">baseurl</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://repo.mongodb.org/yum/redhat/</span><span style="color:#A6ACCD;">$releasever</span><span style="color:#C3E88D;">/mongodb-org/</span><span style="color:#F78C6C;">4.2</span><span style="color:#C3E88D;">/x86_64/</span></span>
<span class="line"><span style="color:#A6ACCD;">gpgcheck</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">enabled</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">gpgkey</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">https://www.mongodb.org/static/pgp/server-4.2.asc</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>安装 MongoDB（社区版）</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mongodb-org</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>查看版本</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mongo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>成功</p><p>我们现在需要做的是把本地的 mongo 数据导出上传至服务器上，该怎么做呢？</p><p>先在本地连接数据库，进入到 mongodb 的安装目录，启动 <code>mongod.exe</code> 文件，</p><p>接着备份数据</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mongodump</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-h</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">127.0.0.1:</span><span style="color:#F78C6C;">27017</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lipingerblog</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-o</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lipingerblog-backup</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>但可惜的是，我的数据库是 mysql 的，所以，我们这次部署 mysql 的数据库，先导出</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mysqldump</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lipingerblog</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lipingerblog_bak.sql</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>登登，导出成功。</p><p>随便记录下如何导入数据库</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">123456</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lipingerblog</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lipingerblog_bak.sql</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>现在我们需要做的是，在服务器上安装 mysql，并导入数据库，让它跑起来</p><p><a href="https://www.jianshu.com/p/224a891932d8" target="_blank" rel="noreferrer">https://www.jianshu.com/p/224a891932d8</a></p><p>附上安装教程，但是要记住一点，进入 mysql 后，记得每一行命令之后要加<code>;</code> ，不然它会理解为是一个命令</p><p>而且因为我用 johan 这个账号来下载 mysql，所以有必要用 sudo</p><p>mysql 常用命令</p><table><thead><tr><th>命令</th><th>意义</th><th>注释</th></tr></thead><tbody><tr><td>mysql -p root -u</td><td>连接数据库</td><td></td></tr><tr><td>show databases;</td><td>查看数据库</td><td>注意：<code>;</code> 表示结束的意思</td></tr><tr><td>use lipingerblog；</td><td>使用 XX 数据库</td><td></td></tr><tr><td>select database();</td><td>查看当前数据库</td><td></td></tr><tr><td>show tables;</td><td>查看数据库表</td><td></td></tr><tr><td>show full columns from user;</td><td>查看表中所有字段</td><td></td></tr><tr><td>flush privileges;</td><td>刷新数据库</td><td></td></tr><tr><td>exit;</td><td>退出</td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>redis 的安装</p><p><a href="https://redis.io/download" target="_blank" rel="noreferrer">https://redis.io/download</a></p><p>将 redis 文件放入 一个指定的文件里，好做管理</p><p>然后将本地代码提交到 git 仓库，</p><p>因为之前在服务器上已经生成 ssh，把 ids.rsa.pub 上传至 github 惭愧</p><p>这样你在服务器上就可以拉到 github 上的代码</p>`,133),r=[t];function c(i,d,y,C,b,D){return n(),a("div",null,r)}const m=s(o,[["render",c]]);export{h as __pageData,m as default};
