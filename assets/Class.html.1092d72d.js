import{_ as t}from"./prototype\u5C4F\u853D\u7EE7\u627F\u6570\u636E\u80FD\u529B\u8FCE\u5408class.319475eb.js";import{_ as o,r as c,o as l,c as u,a as n,d as p,F as r,b as s,e}from"./app.873f0dc8.js";const i={},k=n("h1",{id:"class-\u7C7B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#class-\u7C7B","aria-hidden":"true"},"#"),s(" Class \u7C7B")],-1),b=s("ES6 \u8F6C ES5 "),m={href:"https://babeljs.io/repl/#?browsers=&build=&builtIns=false&corejs=3.21&spec=false&loose=false&code_lz=Q&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=true&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=es2015%2Creact%2Cstage-2&prettier=false&targets=&version=7.17.6&externalPlugins=&assumptions=%7B%7D",target:"_blank",rel:"noopener noreferrer"},d=s("babel \u5DE5\u5177"),h=e('<p>\u95EE\u9898\uFF1A</p><p>\u4E3A\u4EC0\u4E48\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\uFF0C\u4E00\u5B9A\u8981\u8C03\u7528<code>super()</code>\uFF1F</p><ul><li>ES6 \u5728\u7EE7\u627F\u4E2D\u5F3A\u5236\u8981\u6C42\uFF0C\u5FC5\u987B\u5728\u5B50\u7C7B\u8C03\u7528 super\uFF08\u9ED8\u8BA4\u8C03\u7528\uFF09\uFF0C\u56E0\u4E3A\u5B50\u7C7B\u7684 this \u662F\u7531\u7236\u7C7B\u5F97\u6765\u7684</li><li>super \u7B49\u4EF7\u4E8E parent.prototype.constructor.call(sub)</li><li>super \u5373\u53EF\u4EE5\u4F5C\u4E3A\u51FD\u6570\u8C03\u7528\uFF0C\u53C8\u53EF\u4EE5\u4F5C\u4E3A\u5BF9\u8C61\u8C03\u7528 <ul><li>\u51FD\u6570\uFF1A\u53EA\u80FD\u5728 constructor \u5185\u90E8\u8C03\u7528</li><li>\u5BF9\u8C61\uFF1A\u522B\u7684\u65B9\u6CD5\u5185\u8C03\u7528</li></ul></li></ul><h2 id="super" tabindex="-1"><a class="header-anchor" href="#super" aria-hidden="true">#</a> super</h2><p>super \u5173\u952E\u5B57\u7528\u4E8E\u8BBF\u95EE\u548C\u8C03\u7528\u4E00\u4E2A\u5BF9\u8C61\u7684\u7236\u5BF9\u8C61\u4E0A\u7684\u51FD\u6570</p>',5),f=n("code",null,"super.prop",-1),_=s("\u548C"),y=n("code",null,"super[expr]",-1),g=s("\u8868\u8FBE\u5F0F\u5728"),v={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes",target:"_blank",rel:"noopener noreferrer"},w=s("\u7C7B"),j=s("\u548C"),E={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer",target:"_blank",rel:"noopener noreferrer"},A=s("\u5BF9\u8C61\u5B57\u9762\u91CF"),x=s("\u4EFB\u4F55"),S={href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions",target:"_blank",rel:"noopener noreferrer"},C=s("\u65B9\u6CD5\u5B9A\u4E49"),B=s("\u4E2D\u90FD\u662F\u6709\u6548\u7684\u3002"),R=e(`<h3 id="\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a> \u8BED\u6CD5</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">[</span>arguments<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8C03\u7528 \u7236\u5BF9\u8C61/\u7236\u7C7B \u7684\u6784\u9020\u51FD\u6570</span>
<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">functionOnParent</span><span class="token punctuation">(</span><span class="token punctuation">[</span>arguments<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u8C03\u7528 \u7236\u5BF9\u8C61/\u7236\u7C7B \u4E0A\u7684\u65B9\u6CD5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="\u63CF\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u63CF\u8FF0" aria-hidden="true">#</a> \u63CF\u8FF0</h3><p>\u5728\u6784\u9020\u51FD\u6570\u4E2D\u4F7F\u7528\u65F6\uFF0C super \u5173\u952E\u5B57\u5C06\u5355\u72EC\u51FA\u73B0\uFF0C\u5E76\u4E14\u5FC5\u987B\u5728\u4F7F\u7528 this \u5173\u952E\u5B57\u4E4B\u524D\u4F7F\u7528\u3002super \u5173\u952E\u5B57\u4E5F\u53EF\u4EE5\u7528\u6765\u8C03\u7528\u7236\u5BF9\u8C61\u4E0A\u7684\u51FD\u6570</p><p>class \u4E0E prototype \u7EE7\u627F</p><p>\u4E4B\u524D\u8BB2\u539F\u578B\u7684\u65F6\u5019\u8BF4\u8FC7\uFF0C\u57FA\u4E8E\u539F\u578B\uFF08prototype\uFF09\u7684\u7EE7\u627F\u662F\u7EE7\u627F\u4E86\u7ED3\u6784\uFF0C\u6570\u636E\uFF0C\u884C\u4E3A\uFF1B\u800C class \u7684\u7EE7\u627F\uFF0C\u7EE7\u627F\u7684\u662F\u884C\u4E3A\u548C\u7ED3\u6784\uFF0C\u4F46\u6CA1\u6709\u7EE7\u627F\u6570\u636E\u3002\u5E76\u4E14\u6211\u4EEC\u4E3E\u4E86\u4E2A\u4F8B\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>\u4E3A\u4E86\u8FCE\u5408 class \u7684\u57FA\u672C\u884C\u4E3A\uFF0C prototype \u7EE7\u627F\u6570\u636E\u7684\u80FD\u529B\u88AB\u5C4F\u853D\u4E86</strong></p><p><img src="`+t+`" alt="prototype\u5C4F\u853D\u7EE7\u627F\u6570\u636E\u80FD\u529B\u8FCE\u5408class"></p><p>\u800C\u5982\u679C\u60F3\u8981\u8BA9\u7EE7\u627F\u8005\u7EE7\u627F\u6570\u636E\uFF0C\u5C31\u8981\u5728 prototype \u4E0A\u5199</p><p>\u5728 React \u6E90\u7801\u4E2D\uFF0C\u4E5F\u6709\u8FD9\u6837\u7684\u4EE3\u7801\u51FA\u73B0\u3002React \u6709\u4E24\u79CD\u5199\u6CD5\uFF08createElement \u5DF2\u7ECF\u6452\u5F03\uFF09\uFF0C\u57FA\u4E8E\u7C7B\u7684\u5199\u6CD5\u548C\u57FA\u4E8E\u51FD\u6570\u7684\u5199\u6CD5\u3002\u5982\u4F55\u5224\u65AD\u4E24\u8005\u5462?</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">partialState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u7ED9 Componet \u7EC4\u4EF6\u7684\u539F\u578B\u4E0A\u6DFB\u52A0\u5C5E\u6027\uFF0C\u8BA9\u5176\u7EE7\u627F\uFF0C\u6765\u533A\u5206\u51FD\u6570\u8FD8\u662F\u7C7B</span>
<span class="token class-name">Component</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>isReactComponet <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// src/index.js</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> <span class="token function-variable function">createElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span>children</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * \u5982\u679C\u662F\u7C7B\u7EC4\u4EF6
     * 1.\u521B\u5EFA\u4E00\u4E2A\u5B9E\u4F8B
     * 2.\u8C03\u7528\u5B9E\u4F8B\u7684 render \u65B9\u6CD5
     */</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span>prototype <span class="token operator">&amp;&amp;</span> type<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>isReactComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> componentInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">type</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> componentInstance<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u5982\u679C\u662F\u51FD\u6570\u7EC4\u4EF6\uFF0C\u90A3\u4E48\u8C03\u7528\u5B83\uFF0C\u5E76\u8FD4\u56DE\u6267\u884C\u7ED3\u679C</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">type</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">{</span> props <span class="token punctuation">}</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>ES6 \u7684 class \u8F6C\u6362\u4E3A ES5 \u4E2D\u7684 prototype \u5177\u4F53\u4EE3\u8868\u7740\u4EC0\u4E48</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;johan&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">sayhello</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sayhello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">verson</span><span class="token operator">:</span> <span class="token string">&#39;v1&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>obj1 <span class="token operator">=</span> obj1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">sayA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sayA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">sayA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sayA \u6765\u6E90\u81EAA\u7684\u539F\u578B\u4E0A</span>
a<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// johan</span>
a<span class="token punctuation">.</span>obj1<span class="token punctuation">.</span><span class="token function">verson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  v1</span>
a<span class="token punctuation">.</span>obj1<span class="token punctuation">.</span><span class="token function">sayhello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sayhello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>new \u7684\u610F\u601D\u5C31\u662F\u5B9E\u4F8B\u5316\uFF0C\u5B9E\u4F8B\u5316\u4EE3\u8868</p><p>\u53EF\u4EE5\u770B\u51FA\uFF0CsayA \u65B9\u6CD5\u662F\u516C\u5171\u65B9\u6CD5\uFF0C\u800C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&#39;johan&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayA</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sayA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>PS: \u6211\u4EEC\u7EA6\u5B9A\u4FD7\u6210\uFF0C\u9996\u5B57\u6BCD\u5927\u5199\u7684\u4E3A\u6784\u9020\u51FD\u6570</p><h2 id="\u53C2\u8003\u8D44\u6599" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u8D44\u6599" aria-hidden="true">#</a> \u53C2\u8003\u8D44\u6599</h2>`,20),z={href:"https://blog.csdn.net/qq_30100043/article/details/53542966",target:"_blank",rel:"noopener noreferrer"},T=s("ES6 class \u7684\u9759\u6001\u65B9\u6CD5\u3001\u5C5E\u6027\u548C\u5B9E\u4F8B\u5C5E\u6027"),I={href:"https://segmentfault.com/a/1190000021285915",target:"_blank",rel:"noopener noreferrer"},F=s("\u4F60\u9700\u8981\u77E5\u9053\u7684 JavaScript \u7C7B(class)\u7684\u8FD9\u4E9B\u77E5\u8BC6"),J={href:"https://medium.com/enjoy-life-enjoy-coding/javascript-es6-%E4%B8%AD%E6%9C%80%E5%AE%B9%E6%98%93%E8%AA%A4%E6%9C%83%E7%9A%84%E8%AA%9E%E6%B3%95%E7%B3%96-class-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95-23e4a4a5e8ed",target:"_blank",rel:"noopener noreferrer"},N=s("javascript-es6-\u4E2D\u6700\u5BB9\u6613\u8AA4\u6703\u7684\u8A9E\u6CD5\u7CD6-class-\u57FA\u672C\u7528\u6CD5");function P(V,W){const a=c("ExternalLinkIcon");return l(),u(r,null,[k,n("p",null,[b,n("a",m,[d,p(a)])]),h,n("p",null,[f,_,y,g,n("a",v,[w,p(a)]),j,n("a",E,[A,p(a)]),x,n("a",S,[C,p(a)]),B]),R,n("ul",null,[n("li",null,[n("a",z,[T,p(a)])]),n("li",null,[n("a",I,[F,p(a)])]),n("li",null,[n("a",J,[N,p(a)])])])],64)}var U=o(i,[["render",P],["__file","Class.html.vue"]]);export{U as default};
