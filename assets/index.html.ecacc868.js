import{_ as l,r as p,o as r,c as i,a as n,d as c,F as o,e as a,b as e}from"./app.873f0dc8.js";const t={},d=a(`<h1 id="\u811A\u624B\u67B6" tabindex="-1"><a class="header-anchor" href="#\u811A\u624B\u67B6" aria-hidden="true">#</a> \u811A\u624B\u67B6</h1><p>\u811A\u624B\u67B6\u7684\u5B9E\u73B0\u539F\u7406</p><ul><li>\u811A\u624B\u67B6\u7684\u4F18\u70B9\uFF1A\u81EA\u52A8\u5316\u3001\u6807\u51C6\u5316\u3001\u6570\u636E\u5316</li></ul><p>\u6700\u7B80\u5355\u7684\u4E00\u4E2A\u811A\u624B\u67B6</p><ul><li>\u5F00\u53D1\u6D41\u7A0B</li><li>\u4F7F\u7528\u6D41\u7A0B</li></ul><p>Lerna \u6A21\u5F0F\u4E0B\u7684\u811A\u624B\u67B6</p><ul><li>\u591A package \u9879\u76EE\u7BA1\u7406\u901A\u7535\u548C\u89E3\u51B3\u65B9\u6848</li><li>\u57FA\u4E8E Lerna \u811A\u624B\u67B6\u6846\u67B6\u642D\u5EFA <ul><li>\u4EC0\u4E48\u662F Lerna</li><li>Lerna \u6E90\u7801\u5206\u6790</li></ul></li></ul><p>azhu-cli \u811A\u624B\u67B6\u9700\u6C42\u5206\u6790\u548C\u67B6\u6784\u8BBE\u8BA1\uFF0C\u67B6\u6784\u8BBE\u8BA1\u56FE\u811A\u624B\u67B6\u67B6\u6784\u8BBE\u8BA1</p><h2 id="lerna" tabindex="-1"><a class="header-anchor" href="#lerna" aria-hidden="true">#</a> Lerna</h2><p>\u7B2C\u4E00\u6B65\uFF1A\u521D\u59CB\u5316 npm \u9879\u76EE</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> init -y
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7B2C\u4E8C\u6B65\uFF1A\u5168\u5C40\u4E0B\u8F7D lerna</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>cnpm i lerna -g
cnpm i lerna -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u7B2C\u4E09\u6B65\uFF1Alerna init \u521D\u59CB\u5316\u9879\u76EE</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lerna init
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u521D\u59CB\u5316\u4E4B\u540E\uFF0C\u81EA\u884C\u6267\u884C git init \u547D\u4EE4\uFF0C\u6240\u4EE5\u4E00\u822C\u8981\u5728\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA <code>.gitignore</code></p></blockquote><p>\u7B2C\u56DB\u6B65\uFF1Alerna create \u521B\u5EFA package</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lerna create core
lerna create utils
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u7B2C\u4E94\u6B65\uFF1Alerna add \u5B89\u88C5\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lerna <span class="token function">add</span> lodash
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://s2.loli.net/2022/05/05/WM4a9JVrXjEKOIR.png" alt="image-20220505100628452"></p><p>\u76F8\u5F53\u4E8E\u5728\u6BCF\u4E2A package \u4E2D\u4E0B\u8F7D\u4F9D\u8D56</p><p>\u53EF\u4EE5\u6307\u5B9A\u5305</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lerna <span class="token function">add</span> underscore --scope<span class="token operator">=</span>@azhu-cli-dev/core
// \u6216\u8005
lerna <span class="token function">add</span> underscore packages/core
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,24),u=e("\u53EF\u4EE5\u4F7F\u7528 "),b=n("code",null,"lerna add -h",-1),m=e(" \u67E5\u770B\u547D\u4EE4\u548C\u4F8B\u5B50\uFF0C\u4E5F\u53EF\u770B"),h={href:"https://github.com/lerna/lerna/tree/main/commands/add#readme",target:"_blank",rel:"noopener noreferrer"},g=e("\u6587\u6863"),v=a(`<p>\u7B2C\u516D\u6B65\uFF1Alerna link \u94FE\u63A5\u4F9D\u8D56</p><p>lerna link \u5C06\u4F9D\u8D56\u8F6F\u94FE\u63A5</p><p>\u5728 <code>package.json</code> \u4E2D\u7684 <code>dependencies</code> \u6DFB\u52A0\u4F9D\u8D56\uFF0C\u5982</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;@azhu-cli-dev/utils&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u6267\u884C\u547D\u4EE4\u884C <code>lerna link</code>\uFF0C\u5C06 packages \u6587\u4EF6\u4E0B\u7684\u5305\u94FE\u63A5\u7ED9\u6307\u5B9A\u5305\uFF0C\u5F53\u4F60\u4FEE\u6539 utils \u5305\u4E0B\u7684\u6587\u4EF6\u540E\uFF0C\u6267\u884C<code>lerna link</code> \uFF0C\u5373\u80FD\u83B7\u53D6 utils \u6587\u4EF6\u4E0B\u6700\u65B0\u7684\u6587\u4EF6</p><p>\u5176\u4ED6\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lerna clean // \u6E05\u9664\u5B89\u88C5\u5305
lerna bootstrap // \u91CD\u65B0\u4E0B\u8F7D\u4F9D\u8D56
lerna <span class="token builtin class-name">exec</span> // \u6267\u884C shell \u811A\u672C
lerna run // \u6267\u884C <span class="token function">npm</span> \u547D\u4EE4
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u7B2C\u4E03\u6B65\uFF1A\u53D1\u5E03</p><p>\u5148\u5C06\u4EE3\u7801\u63A8\u9001\u81F3\u8FDC\u7A0B\u4ED3\u5E93\uFF0C\u5728\u4F7F\u7528 lerna version \u66F4\u65B0\uFF08\u6240\u6709\uFF09\u9879\u76EE\u7248\u672C</p><p><img src="https://s2.loli.net/2022/05/05/zaGbKSWReU9H1gY.png" alt="image-20220505104149889"></p><p>\u7B2C\u516B\u6B65\uFF1A\u53D1\u5E03 npm \u793E\u533A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lerna publish
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5148\u767B\u5F55 npm \u8D26\u53F7\uFF0C\u5728\u6267\u884C <code>lerna publish</code></p><p><img src="https://s2.loli.net/2022/05/05/DvTMUOAFVPkgQjR.png" alt="\u53D1\u5E03\u9879\u76EE"></p><p>\u6CE8\u610F\uFF0C\u4EE5\u4E0A\u662F\u9519\u8BEF\u7684\uFF0C\u56E0\u4E3A\u6211\u4EEC\u4F7F\u7528\u7684\u662F global \u7684\u5F62\u5F0F\u53D1\u5E03 npm \u5305\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u90FD\u662F\u79C1\u6709\u7684\uFF0C\u8981\u60F3\u5728 npm \u793E\u533A\u4E2D\u770B\u5230\uFF0C\u9700\u8981\u4FEE\u6539 <code>package.json</code>\uFF0C\u5C06\u5176\u6539\u4E3A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>...
<span class="token property">&quot;publishConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;access&quot;</span><span class="token operator">:</span> <span class="token string">&quot;public&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u518D\u6B21\u63D0\u4EA4\u81F3\u8FDC\u7A0B\u5E93\u540E\uFF0C\u6267\u884C\u547D\u4EE4<code>lerna publish</code>\uFF0C\u5C31\u80FD\u5C06\u5305\u53D1\u81F3 npm \u793E\u533A</p><p><img src="https://s2.loli.net/2022/05/05/AWMa3i6IOHxrYTB.png" alt="\u53D1\u5E03\u6210\u529F"></p>`,18);function k(_,x){const s=p("ExternalLinkIcon");return r(),i(o,null,[d,n("p",null,[u,b,m,n("a",h,[g,c(s)])]),v],64)}var q=l(t,[["render",k],["__file","index.html.vue"]]);export{q as default};
