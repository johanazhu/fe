import{_ as e,r as p,o as r,c as l,a as n,d as s,F as o,e as c,b as t}from"./app.873f0dc8.js";const u={},i=c(`<h1 id="\u6E90\u7801\u5206\u6790-react-router-\u6E90\u7801" tabindex="-1"><a class="header-anchor" href="#\u6E90\u7801\u5206\u6790-react-router-\u6E90\u7801" aria-hidden="true">#</a> \u6E90\u7801\u5206\u6790 React Router \u6E90\u7801</h1><h2 id="\u524D\u7AEF\u8DEF\u7531\u524D\u4E16\u4ECA\u751F" tabindex="-1"><a class="header-anchor" href="#\u524D\u7AEF\u8DEF\u7531\u524D\u4E16\u4ECA\u751F" aria-hidden="true">#</a> \u524D\u7AEF\u8DEF\u7531\u524D\u4E16\u4ECA\u751F</h2><p>\u524D\u7AEF\u8DEF\u7531\u53D1\u5C55\u5230\u4ECA\u5929\uFF0C\u7ECF\u5386\u4E86\u540E\u7AEF\u8DEF\u7531\u3001\u524D\u540E\u7AEF\u8DEF\u7531\u8FC7\u6E21\u3001\u524D\u7AEF\u8DEF\u7531\u7684\u8FC7\u7A0B</p><h3 id="\u540E\u7AEF\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#\u540E\u7AEF\u8DEF\u7531" aria-hidden="true">#</a> \u540E\u7AEF\u8DEF\u7531</h3><p>\u8FD9\u4E2A\u65F6\u671F\uFF0C\u4E0D\u7BA1 Web \u540E\u7AEF\u662F\u4EC0\u4E48\u8BED\u8A00\u7684\u6846\u67B6\uFF0C\u90FD\u4F1A\u6709\u4E00\u4E2A\u4E13\u95E8\u5F00\u8F9F\u51FA\u6765\u7684\u8DEF\u7531\u6A21\u5757\u6216\u8005\u8DEF\u7531\u533A\u57DF\uFF0C\u7528\u6765\u5339\u914D\u7528\u6237\u7ED9\u51FA\u7684 URL \u5730\u5740\uFF0C\u4EE5\u53CA\u4E00\u4E9B\u8868\u5355\u63D0\u4EA4\u3001\u9875\u9762\u8BF7\u6C42\u5730\u5740\u3002\u7528\u6237\u8FDB\u884C\u9875\u9762\u5207\u6362\u65F6\uFF0C\u6D4F\u89C8\u5668\u53D1\u9001\u4E0D\u540C\u7684 URL \u8BF7\u6C42\uFF0C\u670D\u52A1\u5668\u63A5\u6536\u5230\u6D4F\u89C8\u5668\u7684\u8BF7\u6C42\u65F6\uFF0C\u901A\u8FC7\u89E3\u6790\u4E0D\u540C\u7684 URL \u5730\u5740\u8FDB\u884C\u540E\u7AEF\u8DEF\u7531\u5339\u914D\uFF0C\u5C06\u6A21\u677F\u62FC\u63A5\u597D\u540E\u5C06\u4E4B\u8FD4\u56DE\u7ED9\u524D\u7AEF\u5B8C\u6574\u7684 HTML\uFF0C\u6D4F\u89C8\u5668\u62FF\u5230\u8FD9\u4E2A HTML \u6587\u4EF6\u540E\u76F4\u63A5\u89E3\u6790\u5C55\u793A\u4E86\uFF0C\u4E5F\u5C31\u662F\u6240\u8C13\u7684\u670D\u52A1\u7AEF\u6E32\u67D3</p><p><img src="https://i.loli.net/2021/06/16/Fit7zNHclqfOTKZ.png" alt="\u540E\u7AEF\u8DEF\u7531\u8FC7\u7A0B"></p><p>\u670D\u52A1\u7AEF\u6E32\u67D3\u9875\u9762\uFF0C\u540E\u7AEF\u6709\u5B8C\u6574\u7684 HTML \u9875\u9762\uFF0C\u722C\u866B\u66F4\u5BB9\u6613\u83B7\u53D6\u4FE1\u606F\uFF0C\u6709\u5229\u4E8E SEO \u4F18\u5316\u3002\u5BF9\u4E8E\u5BA2\u6237\u7AEF\u7684\u8D44\u6E90\u5360\u7528\u66F4\u5C11\uFF0C\u5C24\u5176\u662F\u79FB\u52A8\u7AEF\uFF0C\u53EF\u4EE5\u66F4\u7701\u6D41\u91CF</p><h3 id="\u8FC7\u6E21" tabindex="-1"><a class="header-anchor" href="#\u8FC7\u6E21" aria-hidden="true">#</a> \u8FC7\u6E21</h3><p>Ajax \u7684\u57FA\u672C\u6982\u5FF5\uFF08XMLHttpRequest \u7684\u524D\u8EAB\uFF09</p><p>\u5355\u9875\u5E94\u7528\u4E0D\u4EC5\u5728\u9875\u9762\u4EA4\u4E92\u662F\u65E0\u5237\u65B0\u7684\uFF0C\u8FDE\u9875\u9762\u8DF3\u8F6C\u90FD\u662F\u65E0\u5237\u65B0\u7684\uFF0C\u4E3A\u4E86\u914D\u5408\u5B9E\u73B0\u5355\u9875\u9762\u5E94\u7528\u8DF3\u8F6C\uFF0C\u524D\u7AEF\u8DEF\u7531\u5B55\u80B2\u800C\u751F\u3002</p><h3 id="\u524D\u7AEF\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#\u524D\u7AEF\u8DEF\u7531" aria-hidden="true">#</a> \u524D\u7AEF\u8DEF\u7531</h3><p>\u524D\u7AEF\u8DEF\u7531\u7684\u5174\u8D77\uFF0C\u4F7F\u5F97\u9875\u9762\u6E32\u67D3\u7531\u670D\u52A1\u5668\u6E32\u67D3\u53D8\u6210\u4E86\u524D\u7AEF\u6E32\u67D3\u3002\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u8BF4\u5462\uFF01\u8BF7\u6C42\u4E00\u4E2A URL \u5730\u5740\u65F6\uFF0C\u670D\u52A1\u5668\u4E0D\u9700\u8981\u62FC\u63A5\u6A21\u677F\uFF0C\u53EA\u9700\u8FD4\u56DE\u4E00\u4E2A HTML \u5373\u53EF\uFF0C\u4E00\u822C\u6D4F\u89C8\u5668\u62FF\u5230\u7684 HTML \u662F\u8FD9\u6837\u7684\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u8FD9\u91CC\u7A7A\u8361\u8361\u7684\u53EA\u6709\u4E00\u4E2A<code> &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>\uFF0C\u4EE5\u53CA\u4E00\u7CFB\u5217\u7684 js \u6587\u4EF6\uFF0C\u6240\u4EE5\u8BF4\u8FD9\u4E2A HTML \u662F\u4E0D\u5B8C\u6574\u7684\u3002\u6211\u4EEC\u770B\u5230\u7684\u9875\u9762\u662F\u901A\u8FC7\u8FD9\u4E00\u7CFB\u5217\u7684 js \u6E32\u67D3\u51FA\u6765\u7684\uFF0C\u4E5F\u5C31\u662F\u524D\u7AEF\u6E32\u67D3\u3002\u524D\u7AEF\u6E32\u67D3\u901A\u8FC7\u5BA2\u6237\u7AEF\u7684\u7B97\u529B\u6765\u89E3\u51B3\u9875\u9762\u7684\u6784\u5EFA\uFF0C\u5F88\u5927\u7A0B\u5EA6\u4E0A\u7F13\u89E3\u4E86\u670D\u52A1\u7AEF\u7684\u538B\u529B</p><p><img src="https://i.loli.net/2021/06/16/xw5eLQZEt2KCiyq.png" alt="\u524D\u7AEF\u8DEF\u7531\u8FC7\u7A0B"></p><p>\u5355\u9875\u9762\u5F00\u53D1\u662F\u8D8B\u52BF\uFF0C\u4F46\u4E5F\u4E0D\u80FD\u907F\u91CD\u5C31\u8F7B\uFF0C\u5FFD\u7565\u524D\u7AEF\u6E32\u67D3\u7684\u7F3A\u70B9\u3002\u7531\u4E8E\u670D\u52A1\u5668\u6CA1\u6709\u4FDD\u7559\u5B8C\u6574\u7684 HTML\uFF0C\u901A\u8FC7 js \u8FDB\u884C\u52A8\u6001 DOM \u62FC\u63A5\uFF0C\u9700\u8981\u8017\u8D39\u989D\u5916\u7684\u65F6\u95F4\uFF0C\u4E0D\u5982\u670D\u52A1\u7AEF\u6E32\u67D3\u901F\u5EA6\u5FEB\uFF0C\u4E5F\u4E0D\u5229\u4E8E SEO \u4F18\u5316\u3002\u6240\u4EE5\u8BF4\uFF0C\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u4E0D\u80FD\u76F2\u76EE\u9009\u62E9\u6E32\u67D3\u65B9\u5F0F\uFF0C\u4E00\u5B9A\u8981\u57FA\u4E8E\u4E1A\u52A1\u573A\u666F\u3002\u5BF9\u4E8E\u6CA1\u6709\u590D\u6742\u4EA4\u4E92\uFF0CSEO \u8981\u6C42\u4E25\u683C\u7684\u7F51\u7AD9\uFF0C\u670D\u52A1\u5668\u6E32\u67D3\u4E5F\u662F\u6B63\u786E\u7684\u9009\u62E9</p><h2 id="\u6838\u5FC3\u539F\u7406\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u539F\u7406\u89E3\u6790" aria-hidden="true">#</a> \u6838\u5FC3\u539F\u7406\u89E3\u6790</h2><h3 id="react-router-dom" tabindex="-1"><a class="header-anchor" href="#react-router-dom" aria-hidden="true">#</a> react-router-dom</h3><p>react-router \u7684\u6CE8\u5165\u65B9\u5F0F\u662F\u5728\u7EC4\u4EF6\u6811\u9876\u5C42\u653E\u4E00\u4E2A Router \u7EC4\u4EF6\uFF0C\u7136\u540E\u5728\u7EC4\u4EF6\u6811\u79CD\u6563\u843D\u7740\u5F88\u591A Route \u7EC4\u4EF6\uFF0C\u9876\u5C42\u7684 Router \u7EC4\u4EF6\u8D1F\u8D23\u5206\u6790\u76D1\u542C URL \u7684\u53D8\u5316\uFF0C\u5728\u5176\u4E0B\u9762\u7684 Route \u7EC4\u4EF6\u6E32\u67D3\u5BF9\u5E94\u7684\u7EC4\u4EF6</p><h3 id="react-router-\u7528\u6CD5\u56DE\u987E" tabindex="-1"><a class="header-anchor" href="#react-router-\u7528\u6CD5\u56DE\u987E" aria-hidden="true">#</a> React Router \u7528\u6CD5\u56DE\u987E</h3><p><img src="https://i.loli.net/2021/06/16/HvP9UhJQyToRij8.png" alt="React-router\u7EC4\u4EF6"></p><ul><li><strong>\u8DEF\u7531\u5668\u7EC4\u4EF6</strong>: <code>&lt;BrowserRouter&gt;</code> \u548C <code>&lt;HashRouter&gt;</code>\uFF0C\u8DEF\u7531\u5668\u7EC4\u4EF6\u7684\u4F5C\u4E3A\u6839\u5BB9\u5668\u7EC4\u4EF6\uFF0C<code>&lt;Route&gt;</code> \u7B49\u8DEF\u7531\u7EC4\u4EF6\u5FC5\u987B\u88AB\u5305\u88F9\u5728\u5185\u624D\u80FD\u591F\u4F7F\u7528\u3002</li><li><strong>\u8DEF\u7531\u5339\u914D\u7EC4\u4EF6</strong>: <code>&lt;Route&gt;</code> \u548C <code>&lt;Switch&gt;</code>\uFF0C\u8DEF\u7531\u5339\u914D\u7EC4\u4EF6\u901A\u8FC7\u5339\u914D path\uFF0C\u6E32\u67D3\u5BF9\u5E94\u7EC4\u4EF6\u3002</li><li><strong>\u5BFC\u822A\u7EC4\u4EF6</strong>: <code>&lt;Link&gt;</code> \u548C <code>&lt;NavLink&gt;</code>\uFF0C\u5BFC\u822A\u7EC4\u4EF6\u8D77\u5230\u7C7B\u4F3C <code>a</code> \u6807\u7B7E\u8DF3\u8F6C\u9875\u9762\u7684\u4F5C\u7528\u3002\u5728\u540E\u7EED\u5BF9\u6E90\u7801\u7684\u8BB2\u89E3\u4E2D\uFF0C\u4E5F\u5C06\u5206\u522B\u4EE5\u8FD9\u516D\u4E2A\u7EC4\u4EF6\u4EE3\u7801\u7684\u89E3\u6790\u4E3A\u7EBF\u7D22\uFF0C\u6765\u4E00\u7AA5 React Router \u7684\u6574\u4F53\u5B9E\u73B0\u3002\u770B\u56DE\u6211\u4EEC\u7684\u4EE3\u7801\uFF0C\u5BF9\u4E8E\u6211\u4EEC\u5F00\u5934\u5B9E\u73B0\u7684\u539F\u751F\u8DEF\u7531\uFF0C\u5982\u679C\u7528 React Router \u6539\u5199\uFF0C\u5E94\u8BE5\u662F\u600E\u6837\u7684\u5199\u6CD5\u5462\uFF1A</li></ul><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>import { BrowserRouter, Switch, Route, Link } from &quot;react-router-dom&quot;;
// HashRouter \u548C BrowserRouter \u4E8C\u8005\u7684\u4F7F\u7528\u65B9\u6CD5\u51E0\u4E4E\u6CA1\u6709\u5DEE\u522B\uFF0C\u8FD9\u91CC\u53EA\u6F14\u793A\u5176\u4E00

const App = () =&gt; {
  return (
    &lt;BrowserRouter&gt;
        &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;
        &lt;Link to=&quot;/about&quot;&gt;About&lt;/Link&gt;
        &lt;Link to=&quot;/user&quot;&gt;User&lt;/Link&gt;

        &lt;Switch&gt;
            &lt;Route path=&quot;/about&quot;&gt;&lt;About /&gt;&lt;/Route&gt;
            &lt;Route path=&quot;/user&quot;&gt; &lt;User /&gt;&lt;/Route&gt;
            &lt;Route path=&quot;/&quot;&gt;&lt;Home /&gt;&lt;/Route&gt;
        &lt;/Switch&gt;
    &lt;/BrowserRouter&gt;
  );
}

const Home = () =&gt; (&lt;h2&gt;Home&lt;/h2&gt;);
const About = () =&gt; (&lt;h2&gt;About&lt;/h2&gt;);
const User = () =&gt; (&lt;h2&gt;User&lt;/h2&gt;);

export default App;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="react-router-\u6E90\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#react-router-\u6E90\u7801\u5B9E\u73B0" aria-hidden="true">#</a> React Router \u6E90\u7801\u5B9E\u73B0</h2><p>\u5148\u7528\u6700\u7B80\u5355\u7684\u8BDD\u6765\u6982\u62EC\u4E00\u4E0B React Router \u5230\u5E95\u505A\u4E86\u4EC0\u4E48\uFF1F</p><p><strong>\u672C\u8D28\u4E0A\uFF0C React Router \u5C31\u662F\u5728\u9875\u9762 URL \u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u901A\u8FC7\u6211\u4EEC\u5199\u7684 path \u53BB\u5339\u914D\uFF0C\u7136\u540E\u6E32\u67D3\u5BF9\u5E94\u7684\u7EC4\u4EF6\u3002</strong></p><p>\u90A3\u4E48\uFF0C\u6211\u4EEC\u60F3\u4E00\u4E0B\u5982\u4F55\u5206\u6B65\u9AA4\u5B9E\u73B0\uFF1A</p><ol><li>\u5982\u4F55\u76D1\u542C url \u7684\u53D8\u5316 \uFF1F</li><li>\u5982\u4F55\u5339\u914D path \uFF1F</li><li>\u6E32\u67D3\u5BF9\u5E94\u7684\u7EC4\u4EF6</li></ol><p>\u6362\u53E5\u8BDD\u8BF4\uFF0C\u4E5F\u662F\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u901A\u8FC7\u6E32\u67D3\u4E0D\u540C\u7684\u7EC4\u4EF6\u6765\u63A7\u5236\u8DEF\u7531\u5207\u6362</p><h3 id="\u6574\u4F53\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u6574\u4F53\u8BBE\u8BA1" aria-hidden="true">#</a> \u6574\u4F53\u8BBE\u8BA1</h3><p>\u6211\u4EEC\u7528\u4E00\u5F20\u56FE\u6765\u7406\u89E3\u4E00\u4E0B\u6574\u4E2A react-router \u662F\u600E\u4E48\u5B9E\u73B0\u7684\uFF1A</p><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u770B\u770B\u6BCF\u4E00\u4E2A\u6B65\u9AA4\u662F\u600E\u4E48\u5B9E\u73B0\u7684\u3002</p><p><img src="https://i.loli.net/2021/06/16/LdX43GNEtSCMjI2.png" alt="640"></p><h3 id="\u5982\u4F55\u76D1\u542C-url-\u7684\u53D8\u5316" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u76D1\u542C-url-\u7684\u53D8\u5316" aria-hidden="true">#</a> \u5982\u4F55\u76D1\u542C url \u7684\u53D8\u5316 \uFF1F</h3><p>\u6B63\u5E38\u60C5\u51B5\u4E0B\uFF0C\u5F53 URL \u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u6D4F\u89C8\u5668\u4F1A\u50CF\u670D\u52A1\u7AEF\u53D1\u9001\u8BF7\u6C42\uFF0C\u4F46\u4F7F\u7528\u4EE5\u4E0B 2 \u79CD\u529E\u6CD5\u4E0D\u4F1A\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u8BF7\u6C42\uFF1A</p><ul><li>\u57FA\u4E8E hash</li><li>\u57FA\u4E8E history</li></ul><p>react-router \u4F7F\u7528\u4E86 history \u8FD9\u4E2A\u6838\u5FC3\u5E93\u3002</p><p>\u800C history \u5E93\u7684\u672C\u8D28\u662F\u901A\u8FC7\u524D\u6587\u6240\u8BF4\u7684</p><p>\u8981\u60F3\u4E86\u89E3 React-Router \u7684\u672C\u8D28\uFF0C\u5C31\u8981\u4F9D\u6B21\u89E3\u51B3\u8FD9\u4E09\u4E2A\u95EE\u9898</p><ol><li>\u5355\u9875\u9762\u5E94\u7528\u8DEF\u7531\u7684\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F</li><li>React-router \u662F\u5982\u4F55\u8DDF React \u7ED3\u5408\u8D77\u6765\u7684\uFF1F</li></ol><p>\u800C\u540E\u6211\u4EEC\u53EF\u4EE5\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684 React-router</p><p>React-Router \u501F\u7528\u4E86 history \u89E3\u51B3\u4E86\u7B2C\u4E00\u4E2A\u95EE\u9898</p><p>\u7528 React.createContext \u89E3\u51B3\u4E86\u7B2C\u4E8C\u4E2A\u95EE\u9898</p><p><code>&lt;Router&gt;</code> \u53EA\u505A\u4E86\u4E24\u4EF6\u4E8B\uFF0C\u4E00\u662F\u7ED9\u5B50\u7EC4\u4EF6\u5305\u4E86\u4E00\u5C42 <code>context</code>\uFF0C\u8BA9\u8DEF\u7531\u4FE1\u606F\uFF08 history \u548C location \u5BF9\u8C61\uFF09\u80FD\u4F20\u9012\u7ED9\u5176\u4E0B\u6240\u6709\u5B50\u5B59\u7EC4\u4EF6\uFF1B\u4E8C\u662F\u7ED1\u5B9A\u4E86\u8DEF\u7531\u76D1\u542C\u4E8B\u4EF6\uFF0C\u4F7F\u6BCF\u6B21\u8DEF\u7531\u7684\u6539\u53D8\u90FD\u89E6\u53D1<code>setState</code></p><p>\u5B9E\u73B0 ReactRouter \u524D\uFF0C\u5148\u53BB\u770B\u4E00\u4E0B ReactRouter \u7684\u5199\u6CD5</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>&lt;Switch&gt;
      &lt;Route exact path=&quot;/&quot; component={Home}/&gt;
      &lt;Route path=&quot;/about&quot; component={About}/&gt;
      &lt;Route path=&quot;/topics&quot; component={Topics} /&gt;
      &lt;Route render={(props) =&gt; {
        return &lt;pre&gt;URL: {JSON.stringify(props.match.url)}&lt;/pre&gt;
      }} /&gt;
&lt;/Switch&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>BrowseHistory \u5FC5\u987B\u4F9D\u8D56\u670D\u52A1\u5668\u8BA9 url \u90FD\u6620\u5C04\u5230 index.html \uFF0C\u5426\u5219\u4F1A 404 \u3002</p></blockquote><p>\u6CE8\u610F\u5230\u4E86\u6CA1\uFF0CSwitch \u662F\u4E00\u4E2A\u7EC4\u4EF6\uFF0CRoute \u4E5F\u662F\u4E00\u4E2A\u7EC4\u4EF6</p><p>\u8FD9\u5C31\u597D\u6BD4</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>class Route extends React.Component {
   render() {
       const { exact, path, component, children,render } = this.props;

       const match = matchPath(location.pathname, {
           path,
           exact
       })

       if (!match) {
           return null
       }

       if (component) {
           return React.createElement(component, { match })
       }

       if (render) {
           return (
               render({ match })
           )
       }
       return (
         null
       )
   }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>\u4E3B\u8981\u662F</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>&lt;RouterContext.Provider
    value={{
        history: this.props.history,
            location: this.state.location,
                match: Router.computeRootMatch(this.state.location.pathname),
                    staticContext: this.props.staticContext
    }}
    &gt;
    &lt;HistoryContext.Provider
        children={this.props.children || null}
        value={this.props.history}
    /&gt;
&lt;/RouterContext.Provider&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="route-\u7684\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#route-\u7684\u5B9E\u73B0" aria-hidden="true">#</a> Route \u7684\u5B9E\u73B0</h3><p>\u6211\u4EEC\u524D\u9762\u63D0\u5230\uFF0C\u524D\u7AEF\u8DEF\u7531\u7684\u6838\u5FC3\u5728\u4E8E\u76D1\u542C\u548C\u5339\u914D\uFF0C\u4E0A\u9762\u6211\u4EEC\u4F7F\u7528 <code>&lt;Router&gt;</code> \u5B9E\u73B0\u4E86\u76D1\u542C\uFF0C\u90A3\u4E48\u672C\u5C0F\u8282\u5C31\u6765\u5206\u6790 <code>&lt;Route&gt;</code> \u662F\u5982\u4F55\u505A\u5339\u914D\u7684\uFF0C\u540C\u6837\u5730\u6211\u4EEC\u5148\u56DE\u987E <code>&lt;Route&gt;</code> \u7684\u7528\u6CD5\uFF1A</p><p>\u5339\u914D\u6A21\u5F0F\uFF1A</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>// \u7CBE\u786E\u5339\u914D
// \u4E25\u683C\u5339\u914D
// \u5927\u5C0F\u5199\u654F\u611F
&lt;Route path=&quot;/user&quot; exact component={User} /&gt;
&lt;Route path=&quot;/user&quot; strict component={User} /&gt;
&lt;Route path=&quot;/user&quot; sensitive component={User} /&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u8DEF\u5F84 path \u5199\u6CD5\uFF1A</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>// \u5B57\u7B26\u4E32\u5F62\u5F0F
// \u547D\u540D\u53C2\u6570
// \u6570\u7EC4\u5F62\u5F0F
&lt;Route path=&quot;/user&quot; component={User} /&gt;
&lt;Route path=&quot;/user/:userId&quot; component={User} /&gt;
&lt;Route path={[&quot;/users&quot;, &quot;/profile&quot;]} component={User} /&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u6E32\u67D3\u65B9\u5F0F\uFF1A</p><div class="language-react ext-react line-numbers-mode"><pre class="language-react"><code>// \u901A\u8FC7\u5B50\u7EC4\u4EF6\u6E32\u67D3
// \u901A\u8FC7 props.component \u6E32\u67D3
// \u901A\u8FC7 props.render \u6E32\u67D3
&lt;Route path=&#39;/home&#39;&gt;&lt;Home /&gt;&lt;/Route&gt;
&lt;Route path=&#39;/home&#39; component={Home}&gt;&lt;/Route&gt;
&lt;Route path=&#39;/home&#39; render={() =&gt; &lt;p&gt;home&lt;/p&gt;}&gt;&lt;/Route&gt;

// \u4F8B\u5B50: \u8FD9\u91CC\u6700\u7EC8\u7684\u6E32\u67D3\u7ED3\u679C\u662FUser, \u4F18\u5148\u7EA7\u662F\u5B50\u7EC4\u4EF6 &gt; component &gt; render
&lt;Route path=&#39;/home&#39; component={Home} render={() =&gt; &lt;p&gt;About&lt;/p&gt;}&gt;
  &lt;User /&gt;
&lt;/Route&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><code>&lt;Route&gt;</code> \u6240\u505A\u7684\u4E8B\u60C5\u4E5F\u5F88\u7B80\u5355\uFF0C\u5339\u914D\u5230\u4F20\u5165\u7684 path\uFF0C\u6E32\u67D3\u5BF9\u5E94\u7684\u7EC4\u4EF6\u3002\u6B64\u5916 <code>&lt;Route&gt;</code> \u8FD8\u63D0\u4F9B\u4E86\u51E0\u79CD\u4E0D\u540C\u7684\u5339\u914D\u6A21\u5F0F\u3001path \u5199\u6CD5\u4EE5\u53CA\u6E32\u67D3\u65B9\u5F0F</p><p>Route \u63D0\u4F9B\u4E86\u4E09\u79CD\u6E32\u67D3\u65B9\u5F0F\uFF1A\u5B50\u7EC4\u4EF6\u3001<code>props.component</code>\u3001<code>props.render</code>\uFF0C\u4E09\u8005\u4E4B\u95F4\u53C8\u5B58\u5728\u4F18\u5148\u7EA7\uFF0C\u56E0\u6B64\u5C31\u5F62\u6210\u4E86\u6211\u4EEC\u770B\u5230\u4E86\u591A\u5C42\u4E09\u5143\u8868\u8FBE\u5F0F\u6E32\u67D3\u7684\u7ED3\u6784\u3002</p><h2 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h2><p>\u4ECE\u540E\u7AEF\u8DEF\u7531\u5230\u524D\u7AEF\u8DEF\u7531\uFF0C\u6700\u5927\u7684\u6539\u53D8\u662F\u4F53\u9A8C\uFF0C\u4F53\u9A8C\u66F4\u826F\u597D\u4E86</p><p>\u524D\u7AEF\u8DEF\u7531\u6A21\u5F0F\u6709\u4E24\u79CD\uFF1Ahash \u6A21\u5F0F \u548C history \u6A21\u5F0F\uFF0C\u4E24\u8005\u5206\u522B\u5229\u7528\u6D4F\u89C8\u5668\u81EA\u7531\u7279\u6027\u5B9E\u73B0\u5355\u9875\u9762\u5BFC\u822A</p><ul><li>hash \u6A21\u5F0F\uFF1Awindow.location \u6216 a \u6807\u7B7E\u6539\u53D8\u951A\u70B9\u503C\uFF0Cwindow.hashchange() \u76D1\u542C\u951A\u70B9\u53D8\u5316</li><li>history \u6A21\u5F0F\uFF1Ahistory.pushState()\u3001history.replaceState() \u5B9A\u4E49\u76EE\u6807\u8DEF\u7531\uFF0Cwindow.onpopstate() \u76D1\u542C\u6D4F\u89C8\u5668\u64CD\u4F5C\u5BFC\u81F4\u7684 URL \u53D8\u5316</li></ul><p>React Router \u5339\u914D\u8DEF\u7531\u7531 <code>mathPath</code> \u901A\u8FC7 <code>path-to-regexp</code> \u8FDB\u884C\uFF0C<code>&lt;Route&gt;</code> \u76F8\u5F53\u4E8E\u4E00\u4E2A\u9AD8\u9636\u7EC4\u4EF6\uFF0C\u4EE5\u4E0D\u540C\u7684\u4F18\u5148\u7EA7\u548C\u5339\u914D\u6A21\u5F0F\u6E32\u67D3\u5339\u914D\u5230\u7684\u5B50\u7EC4\u4EF6</p><p>React Router \u7684\u4E3B\u8981\u7EC4\u4EF6\u6E90\u7801\uFF0C\u6574\u4F53\u7684\u5B9E\u73B0\uFF1A</p><ul><li>\u5BF9\u4E8E<strong>\u76D1\u542C</strong>\u529F\u80FD\u7684\u5B9E\u73B0\uFF0CReact Router \u5F15\u5165\u4E86 <code>history</code> \u5E93\uFF0C\u4EE5\u5C4F\u853D\u4E86\u4E0D\u540C\u6A21\u5F0F\u8DEF\u7531\u5728\u76D1\u542C\u5B9E\u73B0\u4E0A\u7684\u5DEE\u5F02, \u5E76\u5C06\u8DEF\u7531\u4FE1\u606F\u4EE5 <code>context</code> \u7684\u5F62\u5F0F\uFF0C\u4F20\u9012\u7ED9\u88AB <code>&lt;Router&gt; </code> \u5305\u88F9\u7684\u7EC4\u4EF6, \u4F7F\u6240\u6709\u88AB\u5305\u88F9\u5728\u5176\u4E2D\u7684\u8DEF\u7531\u7EC4\u4EF6\u90FD\u80FD<strong>\u611F\u77E5\u5230\u8DEF\u7531\u7684\u53D8\u5316, \u5E76\u63A5\u6536\u5230\u8DEF\u7531\u4FE1\u606F</strong></li><li>\u5728<strong>\u5339\u914D</strong>\u7684\u90E8\u5206\uFF0C React Router \u5F15\u5165\u4E86 <code>path-to-regexp</code> \u6765\u62FC\u63A5\u8DEF\u5F84\u6B63\u5219\u4EE5\u5B9E\u73B0\u4E0D\u540C\u6A21\u5F0F\u7684\u5339\u914D\uFF0C\u8DEF\u7531\u7EC4\u4EF6\xB7<code>&lt;Route&gt;</code>\u4F5C\u4E3A\u4E00\u4E2A\u9AD8\u9636\u7EC4\u4EF6\u5305\u88F9\u4E1A\u52A1\u7EC4\u4EF6, \u901A\u8FC7\u6BD4\u8F83\u5F53\u524D\u8DEF\u7531\u4FE1\u606F\u548C\u4F20\u5165\u7684 path\uFF0C\u4EE5\u4E0D\u540C\u7684\u4F18\u5148\u7EA7\u6765\u6E32\u67D3\u5BF9\u5E94\u7EC4\u4EF6</li></ul><h2 id="\u53C2\u8003\u8D44\u6599" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u8D44\u6599" aria-hidden="true">#</a> \u53C2\u8003\u8D44\u6599</h2>`,70),b={href:"https://mp.weixin.qq.com/s/hcAMubPlse4cK9y_-mS5yQ",target:"_blank",rel:"noopener noreferrer"},d=t("\u6DF1\u5165\u6D45\u51FA\u89E3\u6790 React Router \u6E90\u7801"),h={href:"https://github.com/youngwind/blog/issues/109",target:"_blank",rel:"noopener noreferrer"},m=t("\u5355\u9875\u9762\u5E94\u7528\u8DEF\u7531\u5B9E\u73B0\u539F\u7406\uFF1A\u4EE5 React-Router \u4E3A\u4F8B"),g={href:"https://github.com/happylindz/blog/issues/4",target:"_blank",rel:"noopener noreferrer"},k=t("\u5256\u6790\u5355\u9875\u9762\u5E94\u7528\u8DEF\u7531\u5B9E\u73B0\u539F\u7406"),R={href:"https://juejin.cn/post/6895882310458343431",target:"_blank",rel:"noopener noreferrer"},q=t("SPA \u8DEF\u7531\u4E09\u90E8\u66F2\u4E4B\u6838\u5FC3\u539F\u7406"),v={href:"https://mp.weixin.qq.com/s/SJXwhTo4j6I3WMmQuOOs7A",target:"_blank",rel:"noopener noreferrer"},x=t("SPA \u8DEF\u7531\u4E09\u90E8\u66F2\u4E4B\u5B9E\u6218\u6F14\u7EC3"),_={href:"https://mp.weixin.qq.com/s/xyk9Qla6p2lDsRoqrvasTA",target:"_blank",rel:"noopener noreferrer"},f=t("\u56FE\u89E3 React-router \u5E26\u4F60\u6DF1\u5165\u7406\u89E3\u8DEF\u7531\u672C\u8D28");function L(y,w){const a=p("ExternalLinkIcon");return r(),l(o,null,[i,n("ul",null,[n("li",null,[n("p",null,[n("a",b,[d,s(a)])])]),n("li",null,[n("p",null,[n("a",h,[m,s(a)])])]),n("li",null,[n("p",null,[n("a",g,[k,s(a)])])]),n("li",null,[n("p",null,[n("a",R,[q,s(a)])])]),n("li",null,[n("p",null,[n("a",v,[x,s(a)])])]),n("li",null,[n("p",null,[n("a",_,[f,s(a)])])])])],64)}var H=e(u,[["render",L],["__file","ReactRouter.html.vue"]]);export{H as default};
