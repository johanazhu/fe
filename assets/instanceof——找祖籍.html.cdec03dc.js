import{_ as c,r as a,o as l,c as u,a as n,d as p,w as r,F as i,b as s,e as t}from"./app.873f0dc8.js";const k={},b=n("h1",{id:"instanceof\u2014\u2014\u627E\u7956\u7C4D",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#instanceof\u2014\u2014\u627E\u7956\u7C4D","aria-hidden":"true"},"#"),s(" instanceof\u2014\u2014\u627E\u7956\u7C4D")],-1),d=n("h3",{id:"\u4EC0\u4E48\u662F-instanceof",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4EC0\u4E48\u662F-instanceof","aria-hidden":"true"},"#"),s(" \u4EC0\u4E48\u662F instanceof\uFF1F")],-1),m={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof",target:"_blank",rel:"noopener noreferrer"},f=s("MAN"),h=s("\u7684\u89E3\u91CA\u662F\uFF1A"),_=t(`<blockquote><p>instanceof \u8FD0\u7B97\u7B26 \u7528\u4E8E\u68C0\u6D4B\u6784\u9020\u51FD\u6570\u7684 <code>prototype</code> \u5C5E\u6027\u662F\u5426\u51FA\u73B0\u5728\u67D0\u4E2A<strong>\u5B9E\u4F8B\u5BF9\u8C61</strong>\u7684\u539F\u578B\u94FE\u4E0A</p></blockquote><p>\u7531\u6B64\u53EF\u77E5\uFF0Cinstanceof \u7684\u5DE6\u4FA7\u5FC5\u987B\u662F\u5BF9\u8C61\uFF0C\u624D\u80FD\u627E\u5230\u5B83\u7684\u539F\u578B\u94FE</p><p>instanceof \u53F3\u4FA7\u5FC5\u987B\u662F\u51FD\u6570\uFF0C\u51FD\u6570\u624D\u4F1A\u6709 prototype \u5C5E\u6027</p><p>\u4F8B\u5982\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Resume</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> hobby</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> hobby<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> johan <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Resume</span><span class="token punctuation">(</span><span class="token string">&#39;johan&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;swim&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>johan <span class="token keyword">instanceof</span> <span class="token class-name">Resume</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>johan <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u5206\u6790" aria-hidden="true">#</a> \u5206\u6790</h3><p>\u7C97\u66B4\u4E00\u70B9\u8BB2\uFF0C\u5DE6\u8FB9\u4E3A\u5B9E\u4F8B\uFF0C\u4E0D\u662F\u7531\u53F3\u8FB9 new \u51FA\u6765\uFF0C\u5C31\u662F\u53F3\u8FB9\u7684\u539F\u578B new \u51FA\u6765\uFF08\u5728\u5176\u539F\u578B\u94FE\u4E0A\uFF09</p>`,7),y=s("ps\uFF1A\u5982\u679C\u5BF9\u539F\u578B\u4EE5\u53CA\u539F\u578B\u94FE\u4E0D\u592A\u4E86\u89E3\uFF0C\u53EF\u4EE5\u770B\u770B\u8FD9\u7BC7 "),w=s("\u539F\u578B\u4E0E\u539F\u578B\u94FE"),g=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7B2C\u4E00\u7248</span>
<span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceof</span><span class="token punctuation">(</span>johan<span class="token punctuation">,</span> Resume<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceof</span><span class="token punctuation">(</span>johan<span class="token punctuation">,</span> Object<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u7B2C\u4E00\u7248\u6211\u4EEC\u5B9E\u73B0\u4E86 left \u662F \u8C01 new \u51FA\u6765\u7684\uFF0C\u4F46\u8FD9\u8FD8\u4E0D\u591F\uFF0C<code>myInstanceof</code> \u8FD8\u8981\u68C0\u6D4B left \u662F\u5426\u5728 right \u7684\u539F\u578B\u94FE\u4E0A\u3002\u6240\u4EE5\u6211\u4EEC\u8981\u9012\u5F52 <code>left.__proto__</code> \u3002\u76F4\u5230\u539F\u578B\u94FE\u7684\u6700\u6DF1\u4E00\u5C42 null</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7B2C\u4E8C\u7248</span>
<span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span>__proto__<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="\u8003\u8651\u5B83\u662F\u57FA\u672C\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u8003\u8651\u5B83\u662F\u57FA\u672C\u7C7B\u578B" aria-hidden="true">#</a> \u8003\u8651\u5B83\u662F\u57FA\u672C\u7C7B\u578B</h3><p>\u5728\u4E00\u5F00\u59CB\u5C31\u8BF4\u4E86\uFF0Cinstanceof \u7684\u5DE6\u4FA7\u5FC5\u987B\u662F\u5BF9\u8C61\uFF0C\u8FD9\u6837\u624D\u80FD\u627E\u5230\u5B83\u7684\u539F\u578B\u94FE</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myInstanceof</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> Number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6240\u4EE5\u6211\u4EEC\u8981\u589E\u52A0\u5BF9\u57FA\u672C\u7C7B\u578B\u7684\u5224\u65AD</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> left <span class="token operator">!==</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">||</span> left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> left<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span>__proto__<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="\u770B\u770B\u522B\u4EBA\u5BB6\u7684-instanceof-\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u770B\u770B\u522B\u4EBA\u5BB6\u7684-instanceof-\u5B9E\u73B0" aria-hidden="true">#</a> \u770B\u770B\u522B\u4EBA\u5BB6\u7684 instanceof \u5B9E\u73B0</h3><p>\u795E\u4E09\u5143</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u57FA\u672C\u6570\u636E\u7C7B\u578B\u76F4\u63A5\u8FD4\u56DE false</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> left <span class="token operator">!==</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">||</span> left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// getPrototype\u662FObject\u5BF9\u8C61\u81EA\u5E26\u7684\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u7B49\u6548\u4E8E__proto__</span>
    <span class="token keyword">let</span> proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5FAA\u73AF\u5F80\u4E0B\u5BFB\u627E\uFF0C\u77E5\u9053\u627E\u5230\u76F8\u540C\u7684\u5BF9\u8C61</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment">// \u627E\u5230\u76F8\u540C\u7684\u539F\u578B\u5BF9\u8C61</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">==</span> right<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>while \u7684\u7528\u6CD5\u6BD4\u4FFA\u9AD8\u7EA7\u591A\u4E86</p><p>\u4E0B\u4E00\u7AE0\uFF0C\u6211\u4EEC\u8BB2\u8BB2 new \uFF0C\u5176\u5B9E new \u5C31\u662F\u751F\u513F\u5B50\uFF0C\u4E0E instanceof \u627E\u7956\u7C4D\u6709\u4E00\u70B9\u5173\u8054</p>`,13);function v(j,x){const e=a("ExternalLinkIcon"),o=a("RouterLink");return l(),u(i,null,[b,d,n("p",null,[n("a",m,[f,p(e)]),h]),_,n("p",null,[y,p(o,{to:"/JavaScript/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.html"},{default:r(()=>[w]),_:1})]),g],64)}var I=c(k,[["render",v],["__file","instanceof\u2014\u2014\u627E\u7956\u7C4D.html.vue"]]);export{I as default};
